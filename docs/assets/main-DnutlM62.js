import{s as Ke,a as ae,E as We,r as Ve,d as Je,l as g,b as U,c as v,e as Z,f as i,g as c,h as M,i as k,j as Qe,k as q,m as ve,n as $e,o as ye,u as E,p as be,q as Ee,t as B,v as x,w as ce,x as de,y as ge,z as je,A as Ze,B as ue,C as Xe,D as et}from"./globalEventHandlers-RZbpRZDS.js";const tt="/plant-bud/assets/home-page-logo-B0yGqkh6.png",Le="/plant-bud/assets/add-icon-1-BYRDZxIr.png",ke="/plant-bud/assets/back-button-light-CJkLvN3c.png",nt="/plant-bud/assets/pin-icon-Bs6cdHuO.png",at="/plant-bud/assets/water-icon-BQQQoVQU.png",st="/plant-bud/assets/requirement-icon-NlBqSzd9.png",ot="/plant-bud/assets/tick-icon-Csos6faO.png",it="/plant-bud/assets/african-violet-B0hxxcN3.png",rt="/plant-bud/assets/aloe-vera-U4W8i-Jp.png",lt="/plant-bud/assets/anthurium-CpXDosPt.png",ct="/plant-bud/assets/bamboo-DuAL3g9n.png",dt="/plant-bud/assets/bird-of-paradise-BOmBPcnn.png",gt="/plant-bud/assets/boston-fern-BU9zAjxC.png",ut="/plant-bud/assets/bromeliad-BbAI_8yU.png",mt="/plant-bud/assets/cactus-DCz3CvUo.png",ht="/plant-bud/assets/calathea-Bx6j9681.png",pt="/plant-bud/assets/chinese-money-plant-DhWD7-8G.png",ft="/plant-bud/assets/croton-BOp_y_78.png",wt="/plant-bud/assets/dieffenbachia-59qx3PYE.png",vt="/plant-bud/assets/dracaena-OyBDm4Ss.png",yt="/plant-bud/assets/fern-D4LlwWGC.png",bt="/plant-bud/assets/ficus-DXkrMvSE.png",Et="/plant-bud/assets/fiddle-leaf-fig-xI4cbIfl.png",Lt="/plant-bud/assets/hoya-CusHqMC9.png",kt="/plant-bud/assets/jade-plant-Cfiosnlr.png",Nt="/plant-bud/assets/kentia-palm-DPPRNYZe.png",Pt="/plant-bud/assets/lavender-W-a3e19-.png",Ct="/plant-bud/assets/monstera-deliciosa-293s8IRR.png",Tt="/plant-bud/assets/nerve-plant-RBnGwML5.png",St="/plant-bud/assets/orchid-keM-4CE_.png",At="/plant-bud/assets/parlor-palm-DED4BNLa.png",Ne="/plant-bud/assets/peace-lily-CuBEKGqN.png",Bt="/plant-bud/assets/peperomia-Blrwcth3.png",qt="/plant-bud/assets/philodendron-BoPf5H8H.png",Dt="/plant-bud/assets/pothos-C4fHzRj8.png",xt="/plant-bud/assets/rubber-plant-DSkM_Yz-.png",Ot="/plant-bud/assets/schefflera-wb16-0Zg.png",Pe="/plant-bud/assets/snake-plant-DJGLD-N1.png",It="/plant-bud/assets/spider-plant-WoHmcTbs.png",Mt="/plant-bud/assets/succulents-DTaV7_1e.png",Ht="/plant-bud/assets/swiss-cheese-plant-DaQ3ZNbv.png",zt="/plant-bud/assets/yucca-BCvyT1S_.png",_t="/plant-bud/assets/zz-plant-Bd3EHTn2.png",Ce="/plant-bud/assets/clear-DQryCYwf.png",me="/plant-bud/assets/clouds-BRn0qWmu.png",Rt="/plant-bud/assets/drizzle-BfWf7GzK.png",Ut="/plant-bud/assets/rain-BkDgNj6i.png",Yt="/plant-bud/assets/snow-DXgc5BjK.png",Ft="/plant-bud/assets/thunderstorm-t4C48DOr.png",Gt="/plant-bud/assets/moon-QzjZNXra.png",Kt=async()=>{try{await Ke(ae)}catch(e){throw console.error("Error logging out:",e),e}},Wt=async()=>{const e=ae.currentUser;if(e)try{const t=We.credential(e.email,prompt("Please enter your password:"));await Ve(e,t),await Je(e),window.location.href="/plant-bud/login.html"}catch(t){console.error("Error deleting account:",t),t.code==="auth/requires-recent-login"&&alert("Please log in again to delete your account.")}},y=(e,t)=>{if(e){for(;e.firstChild;)e.removeChild(e.firstChild);g.removeAllEventListeners("GLOBAL")}else return},H=(e,t,n)=>{const a=document.getElementById(e);y(a),t()},P=(e,t,n)=>{const a=document.querySelector(".modal-overlay");a.classList.add("flex"),e.classList.add("flex"),ms(a,e,n)},b=(e,t)=>{const n=document.querySelector(".modal-overlay");y(e),y(n),U(n,e),n.classList.remove("flex")},Te=()=>{const{myPlantsBtn:e,addNewPlantBtn:t,quizBtn:n,libraryBtn:a,homeBtn:s}=v;[e,t,n,a,s].forEach(r=>{if(r.classList.contains("active")){r.classList.add("button-active"),r.classList.remove("button-inactive");const l=r.querySelector(".icon-container");l.style.backgroundImage=`url(${r.darkIcon})`}else{r.classList.add("button-inactive"),r.classList.remove("button-active");const l=r.querySelector(".icon-container");l.style.backgroundImage=`url(${r.lightIcon})`}})},O=(e,t,n,a,s,...o)=>{e.classList.add("active"),e.style.backgroundColor=t,e.style.color=a,o.forEach(r=>{r.style.backgroundColor=n,r.style.color=s,r.classList.remove("active")})},he=(e,t,...n)=>{var h;const{plantLogEl:a,plantQuiz:s,plantLibrary:o,homePage:r,header:l}=v,d=document.querySelector(".profile-icon-container");if(e.includes(v.addNewPlantBtn)){t();return}e[1].classList.add("underline"),e.forEach(f=>{f.classList.add("active")}),n.forEach(f=>{f.classList.remove("active"),f.classList.remove("underline")});const u={myPlantsBtn:{section:a,buttons:[v.myPlantsBtn,v.desktopMyPlantsBtn]},addNewPlantBtn:{buttons:[v.addNewPlantBtn,v.desktopAddNewPlantBtn]},quizBtn:{section:s,buttons:[v.quizBtn,v.desktopQuizBtn]},libraryBtn:{section:o,buttons:[v.libraryBtn,v.desktopLibraryBtn]},homeBtn:{section:r,buttons:[v.homeBtn,v.desktopHomeBtn]}},m=(h=Object.values(u).find(f=>f.buttons.some(w=>e.includes(w))))==null?void 0:h.section;[a,s,o,r].forEach(f=>{y(f),f.style.height="0"}),m&&(m.style.height="100%",t()),m!==r?(l.classList.add("hidden-nav-mobile"),d.classList.add("hidden-nav-mobile")):(l.classList.remove("hidden-nav-mobile"),d.classList.remove("hidden-nav-mobile")),Te()},F=[{name:"Snake Plant",id:1,image:Pe,skill:["Beginner"],location:["Home","Office","Bedroom","Living Room"],flowering:["No"],size:["Short","Tall"],transferToOutdoors:["Yes"],time:["Not much","A lot"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Tough and adaptable, perfect for beginners.",waterSchedule:"Every 2-3 weeks, less often in winter.",tempLight:"Indirect sunlight to partial shade. 15-26°C.",description:"The Snake Plant, or Sansevieria, is a highly durable and low-maintenance indoor plant known for its air-purifying qualities. Its stiff, upright leaves grow vertically, making it an ideal plant for small spaces.",requirements:[],tasks:[],tags:[]},{name:"Anthurium",id:2,image:lt,skill:["Medium","Advanced"],location:["Home","Bedroom","Living Room"],flowering:["Yes"],size:["Short"],transferToOutdoors:["No"],time:["Medium"],interest:["Very","Kind of"],lowEffort:["No"],shortDescription:"Features glossy, heart-shaped leaves with bright flowers.",waterSchedule:"Weekly, keep soil lightly moist.",tempLight:"Bright, indirect light. 18-27°C.",description:"Anthuriums are beloved for their glossy heart-shaped leaves and bright, waxy flowers, which can bloom throughout the year if cared for properly. These tropical plants prefer environments with high humidity and indirect light, making them a beautiful addition to well-lit bathrooms or kitchens. With their vibrant flowers, Anthuriums add a splash of color to any indoor space.",requirements:[],tasks:[],tags:[]},{name:"Fiddle Leaf Fig",id:3,image:Et,skill:["Advanced","Medium"],location:["Home","Living Room"],flowering:["No"],size:["Tall"],transferToOutdoors:["No"],time:["A lot","A lot"],interest:["Very","Kind of"],lowEffort:["No"],shortDescription:"Large, glossy leaves. Needs attention to thrive.",waterSchedule:"When top inch of soil is dry, about every 1-2 weeks.",tempLight:"Bright, indirect light. 15-24°C.",description:"The Fiddle Leaf Fig is famous for its large, leathery leaves that resemble a violin shape. Its a perfect choice for interior design enthusiasts looking to add a dramatic touch to their living spaces. Fiddle Leaf Figs prefer bright, filtered light and need to be watered only when the top inch of soil is dry. Regular dusting of the leaves helps to keep the plant healthy and absorb light efficiently.",requirements:[],tasks:[],tags:[]},{name:"Peace Lily",id:4,image:Ne,skill:["Beginner","Medium"],location:["Home","Office","Bedroom","Living Room"],flowering:["Yes"],size:["Short","Tall"],transferToOutdoors:["Yes","No"],time:["A lot","Not much"],interest:["Kind of","Very"],lowEffort:["Yes"],shortDescription:"Elegant white flowers, thrives in medium to low light.",waterSchedule:"Keep soil moist; water weekly.",tempLight:"Low to medium light. 18-26°C.",description:"Peace Lilies are charming plants with glossy green leaves and white flowers that can boost the aesthetic of any room. Beyond their beauty, they are known for their ability to purify the air. Peace Lilies prefer low to medium light and moist soil, making them suitable for areas away from direct sunlight. Theyre resilient and forgiving, signaling their need for water by drooping slightly.",requirements:[],tasks:[],tags:[]},{name:"Pothos",id:5,image:Dt,skill:["Beginner","Medium"],location:["Home","Office","Living Room","Bedroom"],flowering:["No"],size:["Short","Tall"],transferToOutdoors:["Yes"],time:["Not much","A lot"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Vining plant with heart-shaped leaves, very hardy.",waterSchedule:"Let soil dry out between waterings, about every 1-2 weeks.",tempLight:"Low to bright indirect light. 18-24°C.",description:"Pothos, also known as Devils Ivy, is a versatile and easy-to-care-for plant thats ideal for beginners. Its trailing vines can grow long, making it a great option for hanging baskets or shelves where the foliage can elegantly drape down. Pothos can thrive in a variety of light conditions, from low to bright indirect light, and prefers the soil to dry out between waterings.",requirements:[],tasks:[],tags:[]},{name:"Orchid",id:6,image:St,skill:["Medium","Advanced"],location:["Home","Bedroom"],flowering:["Yes"],size:["Short"],transferToOutdoors:["No"],time:["A lot","A lot"],interest:["Very","Kind of"],lowEffort:["No"],shortDescription:"Exotic flowers, prefers humid conditions.",waterSchedule:"Every 1-2 weeks, less often in winter.",tempLight:"Bright, indirect light. 15-25°C.",description:"Orchids are exotic and elegant, known for their stunning blooms that can last for weeks. They prefer a stable environment with indirect light, high humidity, and good airflow. Orchids require a specific watering routine, allowing their bark-based potting mix to dry out completely before rewatering. With the right care, orchids can rebloom multiple times a year, making them a rewarding challenge for more advanced plant enthusiasts.",requirements:[],tasks:[],tags:[]},{name:"Monstera Deliciosa",id:7,image:Ct,skill:["Medium","Beginner"],location:["Home","Living Room","Office"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes","No"],time:["A lot","Not much"],interest:["Kind of","Very"],lowEffort:["No","Yes"],shortDescription:"Swiss cheese-like leaves, trendy and easy to care for.",waterSchedule:"Every 1-2 weeks, allowing soil to dry out between waterings.",tempLight:"Bright to medium indirect light. 18-27°C.",description:"Monstera Deliciosa, often called the Swiss Cheese Plant, is beloved for its unique leaves with natural holes, giving it a distinct appearance. Monsteras are fast growers under the right conditions, preferring humid environments and indirect light. They make a bold statement in any room and can be trained to climb or allowed to spread outwards. Regular pruning encourages fuller growth and a healthier plant.",requirements:[],tasks:[],tags:[]},{name:"Lavender",id:8,image:Pt,skill:["Medium","Beginner"],location:["Home","Outdoor","Office"],flowering:["Yes"],size:["Short","Tall"],transferToOutdoors:["Yes"],time:["A lot","A lot"],interest:["Very","Kind of"],lowEffort:["No","Yes"],shortDescription:"Fragrant purple flowers, prefers full sun.",waterSchedule:"When soil is dry to the touch, about every 1-2 weeks.",tempLight:"Full sun. 18-30°C.",description:"Lavender is not just an outdoor plant; with enough light, it can also thrive indoors. Its renowned for its fragrant flowers and essential oils, known for their relaxing and therapeutic properties. Lavender requires lots of light, so a south-facing window is ideal. The plant prefers well-draining soil and infrequent watering, making it a great choice for those who prefer plants with lower water needs.",requirements:[],tasks:[],tags:[]},{name:"Spider Plant",id:9,image:It,skill:["Beginner"],location:["Home","Office","Bathroom","Living Room"],flowering:["No"],size:["Short"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really"],lowEffort:["Yes"],shortDescription:"Easy to grow, with arching leaves and small white flowers.",waterSchedule:"Weekly during growth, less often in winter.",tempLight:"Bright, indirect light. 15-23°C.",description:"Spider Plants are resilient and adaptable, making them perfect for new gardeners. They are recognized for their air-purifying qualities and their unique growth habit, producing baby spider plants or “pups” that hang from the mother plant like spiders on a web. Spider Plants thrive in a range of lighting conditions and prefer slightly moist soil, making them a low-fuss addition to any indoor space.",requirements:[],tasks:[],tags:[]},{name:"ZZ Plant",id:10,image:_t,skill:["Beginner"],location:["Home","Office","Bedroom"],flowering:["No"],size:["Short","Tall"],transferToOutdoors:["No"],time:["Not much"],interest:["Not really"],lowEffort:["Yes"],shortDescription:"Low maintenance, with waxy, green leaves.",waterSchedule:"Every 2-3 weeks, less often in winter.",tempLight:"Low to bright indirect light. 18-24°C.",description:"ZZ Plants are distinguished by their glossy, green leaves and robust nature, making them nearly indestructible. Theyre perfect for offices or homes with low light. ZZ Plants store water in their roots, allowing them to withstand periods of drought. Care for these plants is minimal, requiring only occasional watering and making them ideal for those seeking low-maintenance indoor plants.",requirements:[],tasks:[],tags:[]},{name:"Rubber Plant",id:11,image:xt,skill:["Medium"],location:["Home","Living Room"],flowering:["No"],size:["Tall"],transferToOutdoors:["No"],time:["Medium"],interest:["Kind of"],lowEffort:["No"],shortDescription:"Glossy dark green leaves, can grow into a tree indoors.",waterSchedule:"Keep soil moist in growing season, less water in winter.",tempLight:"Bright, indirect light. 16-27°C.",description:"The Rubber Plant is a striking addition to any space, known for its large, glossy leaves that can absorb airborne chemicals and purify indoor air. It thrives under bright, indirect light but can tolerate lower light levels, making it versatile for different lighting conditions. Its care routine involves keeping the soil consistently moist but not waterlogged. With proper care, it can grow into a large, tree-like presence indoors.",requirements:[],tasks:[],tags:[]},{name:"Boston Fern",id:12,image:gt,skill:["Medium"],location:["Home","Bathroom"],flowering:["No"],size:["Short"],transferToOutdoors:["Yes"],time:["A lot"],interest:["Kind of"],lowEffort:["No"],shortDescription:"Lush, feathery fronds. Loves humidity.",waterSchedule:"Keep soil consistently moist, mist fronds regularly.",tempLight:"Bright, indirect light. 18-24°C.",description:"Boston Ferns are popular for their lush, green fronds that add a vibrant touch of nature to any room. They thrive in high humidity environments and prefer indirect light, making them perfect for bathrooms or kitchens. Regular misting and watering will keep the fern looking fresh. They are also excellent natural humidifiers and air purifiers, making them as functional as they are beautiful.",requirements:[],tasks:[],tags:[]},{name:"Cactus",id:13,image:mt,skill:["Beginner","Medium"],location:["Home","Office","Outdoor"],flowering:["Yes"],size:["Short"],transferToOutdoors:["Yes"],time:["Not much","A lot"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Thrives on neglect, loves the sun.",waterSchedule:"Water every 3-4 weeks in summer, rarely in winter.",tempLight:"Full sun. 21-37°C.",description:"Cacti are the ultimate low-maintenance plants, ideal for those who prefer a hands-off approach to plant care. Thriving in bright light, they require minimal watering, making them perfect for sunny spots. Cacti come in an array of shapes, sizes, and colors, offering endless variety for collectors. Their unique and striking appearance adds a touch of desert beauty to any indoor setting.",requirements:[],tasks:[],tags:[]},{name:"Succulents",id:14,image:Mt,skill:["Beginner","Medium"],location:["Home","Office","Living Room"],flowering:["Yes"],size:["Short"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really"],lowEffort:["Yes"],shortDescription:"Easy care, comes in various shapes and colors.",waterSchedule:"Water when soil is completely dry, about every 2-3 weeks.",tempLight:"Bright, indirect light. 18-24°C.",description:"Succulents are beloved for their ease of care, drought tolerance, and varied textures and forms. They store water in their thick, fleshy leaves, allowing them to thrive in dry indoor environments. Succulents prefer bright, indirect light and infrequent watering, making them perfect for sunny windowsills. With hundreds of species, theres a succulent to match every aesthetic preference.",requirements:[],tasks:[],tags:[]},{name:"Aloe Vera",id:15,image:rt,skill:["Beginner","Medium"],location:["Home","Office","Bedroom"],flowering:["Yes"],size:["Short"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really"],lowEffort:["Yes"],shortDescription:"Medicinal properties, stores water in leaves.",waterSchedule:"Every 3 weeks, less in winter.",tempLight:"Bright, indirect sunlight. 18-24°C.",description:"Aloe Vera is not only known for its medicinal properties, such as soothing burns and skin care, but also as an easy-to-grow indoor plant. It prefers bright, indirect sunlight and minimal watering, making it perfect for a sunny kitchen window. The gel inside the leaves is a handy natural remedy for cuts and burns, making Aloe Vera a practical plant to have around the home.",requirements:[],tasks:[],tags:[]},{name:"Jade Plant",id:16,image:kt,skill:["Beginner"],location:["Home","Office"],flowering:["Yes"],size:["Short"],transferToOutdoors:["No"],time:["Not much"],interest:["Not really"],lowEffort:["Yes"],shortDescription:"Symbolizes good luck, has thick, shiny leaves.",waterSchedule:"Every 2-3 weeks, less in winter.",tempLight:"Full sun to partial shade. 18-24°C.",description:"The Jade Plant is a succulent with thick, woody stems and glossy green leaves that resemble jade stones, symbolizing prosperity and good luck. Its a slow-growing plant that prefers bright light and occasional watering, making it a perfect low-maintenance plant for busy individuals. With proper care, Jade Plants can live for many years, becoming a cherished part of your home.",requirements:[],tasks:[],tags:[]},{name:"Calathea",id:17,image:ht,skill:["Beginner","Medium"],location:["Home","Living Room","Bedroom"],flowering:["No"],size:["Short"],transferToOutdoors:["No"],time:["A lot"],interest:["Very","Kind of"],lowEffort:["No"],shortDescription:"Decorative leaves, enjoys humidity, does not like cold.",waterSchedule:"Keep soil moist, not soggy.",tempLight:"Bright, indirect light. 18-24°C.",description:"Calathea, also known as the prayer plant, is cherished for its beautifully patterned leaves that move up and down with the light cycle, mimicking the act of praying. These tropical plants prefer indirect light and high humidity, making them great for bathrooms. They require consistent moisture but are sensitive to overwatering. Calatheas are perfect for plant enthusiasts looking to add a vibrant and dynamic plant to their collection.",requirements:[],tasks:[],tags:[]},{name:"Fern",id:18,image:yt,skill:["Medium"],location:["Home","Bathroom","Living Room"],flowering:["No"],size:["Short","Tall"],transferToOutdoors:["Yes"],time:["A lot"],interest:["Kind of","Not really"],lowEffort:["Yes","No"],shortDescription:"Loves moisture and shade, great for bathrooms.",waterSchedule:"Keep soil consistently moist.",tempLight:"Partial shade to low light. 18-24°C.",description:"Ferns are ancient plants that add a touch of lush, green elegance to any indoor space. With their feathery fronds, they prefer moist soil and high humidity, thriving in indirect light. Regular misting or a pebble tray can help maintain the humidity they love. Ferns are ideal for hanging baskets or as a lush green backdrop in a plant collection, providing a sense of tranquility and natural beauty.",requirements:[],tasks:[],tags:[]},{name:"Philodendron",id:19,image:qt,skill:["Beginner"],location:["Home","Office","Living Room"],flowering:["No"],size:["Short","Tall"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Heart-shaped leaves, vining or upright types.",waterSchedule:"When top inch of soil dries out, about every 1-2 weeks.",tempLight:"Medium to bright indirect light. 18-27°C.",description:"Philodendrons are a diverse group of plants, offering a range of leaf shapes and growth habits, from trailing vines to large, leafy plants. They are easy to care for, thriving in moderate to bright, indirect light and preferring their soil to dry out slightly between waterings. Philodendrons are not only visually appealing but also effective at purifying the air, making them a popular choice for indoor gardeners.",requirements:[],tasks:[],tags:[]},{name:"Yucca",id:20,image:zt,skill:["Medium","Advanced"],location:["Home","Office"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["Medium"],interest:["Very"],lowEffort:["No"],shortDescription:"Bold and striking, needs direct sunlight.",waterSchedule:"Let soil dry out between waterings, about every 2-3 weeks.",tempLight:"Full sun. 13-27°C.",description:"The Yucca plant brings a touch of the desert indoors, with its sword-like leaves and sturdy trunk. It’s a drought-tolerant plant that prefers bright, direct light, making it suitable for sunny spots in the home. Water sparingly, allowing the soil to dry out completely between waterings. Yuccas can add architectural interest to your space, with their bold silhouette and minimalist aesthetic.",requirements:[],tasks:[],tags:[]},{name:"Bamboo",id:21,image:ct,skill:["Beginner"],location:["Home","Office","Living Room"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Brings good fortune, grows in water or soil.",waterSchedule:"Keep water-filled or soil consistently moist.",tempLight:"Bright, indirect light. 18-24°C.",description:"Bamboo plants are known for their fast growth and versatility. They can thrive in a variety of conditions but prefer bright, indirect light and regular watering to keep the soil consistently moist. Bamboo is often associated with luck and prosperity, making it a popular choice for homes and offices. It’s an easy-care plant that can add a touch of elegance and a sense of peace to any space.",requirements:[],tasks:[],tags:[]},{name:"Bird of Paradise",id:22,image:dt,skill:["Advanced"],location:["Home","Living Room"],flowering:["Yes"],size:["Tall"],transferToOutdoors:["No"],time:["A lot"],interest:["Very"],lowEffort:["No"],shortDescription:"Large, exotic flowers resemble a bird in flight.",waterSchedule:"Weekly, allowing soil to dry slightly between waterings.",tempLight:"Bright, indirect light. 20-30°C.",description:"The Bird of Paradise plant is named for its spectacular flowers, which resemble the bright plumage of a bird in flight. While it’s grown for its foliage indoors since flowering is rare without ample sunlight, its large, broad leaves provide a tropical feel. It requires bright, indirect light and regular watering during the growing season. This plant can make a bold statement in any room with its height and striking leaves.",requirements:[],tasks:[],tags:[]},{name:"African Violet",id:23,image:it,skill:["Medium"],location:["Home","Bedroom","Living Room"],flowering:["Yes"],size:["Short"],transferToOutdoors:["No"],time:["A lot"],interest:["Kind of","Very"],lowEffort:["Yes"],shortDescription:"Small, delicate flowers; prefers consistent conditions.",waterSchedule:"Keep soil lightly moist, use room-temperature water.",tempLight:"Bright, indirect light. 18-24°C.",description:"African Violets are cherished for their vibrant flowers and fuzzy leaves, thriving in warm conditions and indirect light. They prefer consistently moist soil and high humidity, making them ideal for kitchen or bathroom settings. With proper care, African Violets can bloom several times a year, offering a splash of color. They’re small enough to fit on a windowsill, making them perfect for adding a pop of color to small spaces.",requirements:[],tasks:[],tags:[]},{name:"Bromeliad",id:24,image:ut,skill:["Medium"],location:["Home","Office","Bathroom"],flowering:["Yes"],size:["Short"],transferToOutdoors:["Yes"],time:["A lot"],interest:["Kind of"],lowEffort:["Yes"],shortDescription:"Colorful, long-lasting flowers and attractive foliage.",waterSchedule:"Fill the central cup, let dry between waterings.",tempLight:"Bright, indirect light. 18-27°C.",description:"Bromeliads are exotic plants with striking foliage and vibrant flowers that can last for months. They are surprisingly easy to care for, thriving in indirect light and requiring minimal water, as they prefer to be watered in their central cup. Bromeliads are excellent for adding a tropical flair to your home, with their bright colors and unique appearance making them a focal point in any room.",requirements:[],tasks:[],tags:[]},{name:"Chinese Money Plant",id:25,image:pt,skill:["Beginner"],location:["Home","Office"],flowering:["No"],size:["Short"],transferToOutdoors:["No"],time:["Not much"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Round, flat leaves. Said to bring financial luck.",waterSchedule:"Every 1-2 weeks, allowing soil to dry out between waterings.",tempLight:"Bright, indirect light. 16-24°C.",description:"The Chinese Money Plant, with its round, flat leaves, is said to bring good fortune and financial prosperity to its owner. It prefers a bright spot with indirect light and requires watering only when the soil dries out. This plant is ideal for those who love modern and minimalist aesthetics, as its unique appearance adds a stylish touch to any interior design.",requirements:[],tasks:[],tags:[]},{name:"Croton",id:26,image:ft,skill:["Advanced"],location:["Home","Living Room","Outdoor"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["A lot"],interest:["Very"],lowEffort:["No"],shortDescription:"Colorful foliage in red, orange, and yellow.",waterSchedule:"Keep soil moist, more frequent watering in warmer months.",tempLight:"Bright, indirect light. 16-27°C.",description:"Crotons are known for their vibrant, multicolored foliage that can brighten any indoor space. They require a bit more care, thriving in a warm environment with high humidity and bright, indirect light. Consistent moisture and regular feeding will keep the leaves colorful and vibrant. Crotons are perfect for adding a splash of color to your home, with their leaves featuring shades of red, yellow, and green.",requirements:[],tasks:[],tags:[]},{name:"Dieffenbachia",id:27,image:wt,skill:["Medium"],location:["Home","Office"],flowering:["No"],size:["Tall"],transferToOutdoors:["No"],time:["Medium"],interest:["Kind of"],lowEffort:["Yes"],shortDescription:"Large, variegated leaves, can grow tall.",waterSchedule:"Every week, allow the topsoil to dry out between waterings.",tempLight:"Low to bright, indirect light. 18-24°C.",description:"Dieffenbachia, also known as Dumb Cane, features large, attractive leaves that are beautifully marked with patterns of green, white, and yellow. It prefers moderate to bright, indirect sunlight and evenly moist soil. Care should be taken with its sap, which can be irritating to skin and toxic if ingested. Dieffenbachia is a great choice for adding a tropical vibe and a touch of greenery to any room.",requirements:[],tasks:[],tags:[]},{name:"Dracaena",id:28,image:vt,skill:["Beginner","Medium"],location:["Home","Office","Living Room"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Long, strappy leaves, often with red or yellow edges.",waterSchedule:"Every 2-3 weeks, allow soil to dry between waterings.",tempLight:"Bright, indirect light. 16-24°C.",description:"Dracaena plants are popular for their variety of sizes and leaf colors, ranging from green to variegated with white, yellow, or red. They are easy to care for, tolerating a range of light conditions and requiring water only when the soil begins to dry. Dracaenas are effective at purifying the air, making them not only a decorative but also a healthy addition to indoor spaces.",requirements:[],tasks:[],tags:[]},{name:"Ficus",id:29,image:bt,skill:["Medium","Advanced"],location:["Home","Living Room"],flowering:["No"],size:["Tall"],transferToOutdoors:["No"],time:["Medium"],interest:["Very","Kind of"],lowEffort:["No"],shortDescription:"Includes the rubber plant and fiddle leaf fig, among others.",waterSchedule:"When topsoil is dry, about every 1-2 weeks.",tempLight:"Bright, indirect light. 15-24°C.",description:"Ficus plants, including the well-known Fiddle Leaf Fig and Rubber Tree, are beloved for their attractive foliage and growth habit. They prefer bright, indirect light and need to be watered when the soil dries out. Ficus plants can be a bit finicky about their care, but with the right conditions, they make stunning indoor trees that can bring a touch of the outdoors into your home.",requirements:[],tasks:[],tags:[]},{name:"Hoya",id:30,image:Lt,skill:["Medium"],location:["Home","Bedroom"],flowering:["Yes"],size:["Short"],transferToOutdoors:["No"],time:["Medium"],interest:["Very","Kind of"],lowEffort:["Yes"],shortDescription:"Waxy leaves and fragrant flowers, climbs or trails.",waterSchedule:"Every 2-3 weeks, less often in winter.",tempLight:"Bright, indirect light. 16-29°C.",description:"Hoya, known as the wax plant, is a stunning trailing plant with thick, waxy leaves and star-shaped flowers. Hoyas are easy to care for, preferring bright, indirect light and dry conditions between waterings. They are perfect for hanging baskets or as a climbing plant on trellises, adding a beautiful and exotic touch to any indoor space.",requirements:[],tasks:[],tags:[]},{name:"Kentia Palm",id:31,image:Nt,skill:["Beginner","Medium"],location:["Home","Living Room","Office"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["Not much","A lot"],interest:["Kind of"],lowEffort:["Yes"],shortDescription:"Elegant palm, tolerant of low-light conditions.",waterSchedule:"Keep soil lightly moist, less water in winter.",tempLight:"Low to bright, indirect light. 16-27°C.",description:"Kentia Palm is an elegant palm that can bring a touch of the tropics to any indoor setting. It’s one of the best palms for low light conditions, making it ideal for rooms without direct sunlight. Regular watering and misting will keep it thriving. The Kentia Palm is known for its air-purifying qualities and its ability to add a sophisticated look to any décor.",requirements:[],tasks:[],tags:[]},{name:"Nerve Plant",id:32,image:Tt,skill:["Medium"],location:["Home","Office","Bathroom"],flowering:["No"],size:["Short"],transferToOutdoors:["No"],time:["Medium"],interest:["Very"],lowEffort:["Yes"],shortDescription:"Striking leaves with contrasting veins, loves humidity.",waterSchedule:"Keep soil consistently moist.",tempLight:"Medium to bright, indirect light. 18-27°C.",description:"The Nerve Plant, or Fittonia, is admired for its striking leaf patterns with contrasting veins. It thrives in humid environments and prefers indirect light, making it an excellent choice for terrariums or as a bathroom plant. Regular watering to keep the soil moist and providing high humidity will mimic its native tropical habitat, ensuring this plant remains vibrant and healthy.",requirements:[],tasks:[],tags:[]},{name:"Parlor Palm",id:33,image:At,skill:["Beginner"],location:["Home","Office","Living Room"],flowering:["No"],size:["Short","Tall"],transferToOutdoors:["Yes"],time:["Not much"],interest:["Not really"],lowEffort:["Yes"],shortDescription:"Dense, green foliage; ideal for low-light conditions.",waterSchedule:"Every 1-2 weeks, allowing soil to dry slightly between waterings.",tempLight:"Low to bright, indirect light. 18-27°C.",description:"The Parlor Palm is a classic houseplant, popular since Victorian times for its ability to adapt to the low-light conditions of indoor environments. It’s a slow grower that can eventually reach up to 4 feet tall indoors. This palm prefers its soil to be kept evenly moist and benefits from regular misting. It’s perfect for adding a touch of refined greenery to any space.",requirements:[],tasks:[],tags:[]},{name:"Peperomia",id:34,image:Bt,skill:["Beginner","Medium"],location:["Home","Office","Bedroom"],flowering:["No"],size:["Short"],transferToOutdoors:["No"],time:["Not much"],interest:["Kind of"],lowEffort:["Yes"],shortDescription:"Varied and interesting leaf shapes and textures.",waterSchedule:"Let the soil dry out between waterings, about every 2 weeks.",tempLight:"Medium to bright, indirect light. 18-24°C.",description:"Peperomia plants are diverse in leaf shape, color, and texture, making them highly collectible. They are easy to care for, requiring moderate to bright indirect light and infrequent watering, allowing the soil to dry out slightly between waterings. Peperomias are compact and versatile, ideal for small spaces like offices or shelves, where their unique appearance can be fully appreciated.",requirements:[],tasks:[],tags:[]},{name:"Schefflera",id:35,image:Ot,skill:["Medium"],location:["Home","Living Room","Office"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["A lot"],interest:["Very"],lowEffort:["No"],shortDescription:"Umbrella-shaped leaf clusters, grows tall indoors.",waterSchedule:"Keep soil moist, less watering in winter.",tempLight:"Bright, indirect light. 15-24°C.",description:"The Schefflera, or Umbrella Tree, is known for its glossy, palmate leaves that radiate from a central point, resembling an umbrella. It’s a fast grower and can reach impressive sizes indoors with the right care. Preferring bright, indirect light and occasional watering, it’s relatively easy to maintain. Scheffleras are great for adding height and a lush, tropical feel to any interior.",requirements:[],tasks:[],tags:[]},{name:"Swiss Cheese Plant",id:36,image:Ht,skill:["Beginner","Medium"],location:["Home","Office","Living Room"],flowering:["No"],size:["Tall"],transferToOutdoors:["Yes"],time:["Not much","A lot"],interest:["Not really","Kind of"],lowEffort:["Yes"],shortDescription:"Iconic split leaves, grows quickly with enough light.",waterSchedule:"Every 1-2 weeks, allowing soil to dry out between waterings.",tempLight:"Bright to medium indirect light. 18-27°C.",description:"The Swiss Cheese Plant, or Monstera deliciosa, is beloved for its unique, perforated leaves that develop as the plant ages. It’s a vigorous grower that can bring a dramatic tropical flair to your living space. Monsteras do well in bright, indirect light and require watering when the top inch of soil feels dry. This plant is a statement piece, perfect for anyone looking to add a bold, green presence to their home.",requirements:[],tasks:[],tags:[]}],I=[{question:"How would you describe your ability with plants?",answers:["Beginner","Medium","Advanced"],category:"skill"},{question:"Where will your plant be located?",answers:["Home","Office","Bedroom","Living Room"],category:"location"},{question:"How much time can you dedicate to plant care weekly?",answers:["A lot","Not much"],category:"time"},{question:"How interested are you in learning about plant care?",answers:["Very","Kind of","Not really"],category:"interest"},{question:"Do you prefer plants that require minimal effort to keep alive?",answers:["Yes","No"],category:"lowEffort"},{question:"Do you want a plant that flowers?",answers:["Yes","No"],category:"flowering"},{question:"What size plant would you prefer?",answers:["Short","Tall"],category:"size"},{question:"Do you want a plant that can be transferred to outdoors?",answers:["Yes","No"],category:"transferToOutdoors"}],Vt=()=>{const e=document.querySelector(".edit-plant-image"),t=document.querySelector(".file-upload-label"),n=document.querySelector(".plant-page-image-container");e&&U(n,e,t)},Jt=(e,t)=>{const n=Z("ADDED");e.parentNode.replaceChild(n,e),t.isAdded=!0},pe=()=>{const e=document.getElementById("task-nav"),t=document.querySelector(".add-requirement-btn");e.classList.add("hidden"),t.classList.add("hidden")},Qt=(e,t,...n)=>{const a=document.querySelector(".edit-btn");n.forEach(s=>{s.classList.remove("flex"),s.classList.add("hidden")}),e.classList.remove("hidden"),e.classList.add("flex"),a&&t===!1?a.classList.add("hidden"):a&&a.classList.remove("hidden")},$t=(e,t,n,a)=>{const s=i({tagName:"div",classEl:["plant-page-nav-container"]}),o=i({tagName:"button",textContent:"About",classEl:["plant-page-nav-button"],id:"about-nav"}),r=i({tagName:"button",textContent:"Requirements",classEl:["plant-page-nav-button"],id:"requirement-nav"}),l=i({tagName:"button",textContent:"Tasks",classEl:["plant-page-nav-button"],id:"task-nav"});return o.classList.add("active"),jt(o,r,l,t,e,n),O(o,"#FCFAF7","rgba(255, 255, 255, 0.224)","black","#FCFAF7",...o.inactiveBtns),[o,r,l].forEach(u=>{g.addEventListener(u,"click",()=>{O(u,"#FCFAF7","rgba(255, 255, 255, 0.224)","black","#FCFAF7",...u.inactiveBtns),u.classList.contains("active")&&Qt(u.activeSection,u.editBtn,...u.inactiveSections)},`PLANT_PAGE_${a}`)}),c(s,o,r,l),s},jt=(e,t,n,a,s,o)=>{e.inactiveBtns=[t,n],t.inactiveBtns=[e,n],n.inactiveBtns=[e,t],e.inactiveSections=[a,o],t.inactiveSections=[s,o],n.inactiveSections=[s,a],e.activeSection=s,t.activeSection=a,n.activeSection=o,e.editBtn=!0,t.editBtn=!1,n.editBtn=!1},R=()=>{const{searchInput:e,searchResultsContainer:t}=sn(),{plantLibrary:n}=v;G(n,e.value,t,null,"← back to search",".plant-library",R),an(e,n,t)},G=(e,t,n,a,s,o,r)=>{y(n),a||(a=Xt());const l=a.filter(d=>d.name.toLowerCase().includes(t.toLowerCase()));if(l.length>0){const d=i({tagName:"div",classEl:["plant-page-container"],id:"secondary-plant-page"});l.forEach(u=>{const m=rn(u);c(n,m),g.addEventListener(m,"click",()=>{en(e,d,u,s,o,r)},"PLANT_SEARCH")})}Zt(l)},Zt=e=>{const t=document.querySelector(".plants-found-counter");if(!t)return;const n=e.length,a=n>1||n===0?`${n} plants found`:`${n} plant found`;t.textContent=a},Xt=()=>{const e=document.getElementById("all-tag"),t=document.getElementById("beginner-tag"),n=document.getElementById("medium-tag"),a=document.getElementById("advanced-tag"),s=[e,t,n,a];for(let o=0;o<s.length;o++){const r=s[o];if(r.classList.contains("active"))return r.id==="all-tag"?F:F.filter(l=>l.skill[0]===r.textContent)}},en=(e,t,n,a,s,o)=>{y(e),c(e,t),W(n,t,a,s,o)},tn=(e,t,n)=>{n||(Be(t),dn(e),t.isAdded=!0)},nn=(e,t,n,a)=>{e.forEach(s=>{g.addEventListener(s,"click",()=>{if(O(s,"white","rgba(255, 255, 255, 0.224","black","white",...s.inactiveBtns),s.id==="all-tag"){G(t,n.value,a,null,"← back to search",".plant-library",R);return}G(t,n.value,a,null,"← back to search",".plant-library",R)},"PLANT_SEARCH")})},an=(e,t,n)=>{g.addEventListener(e,"input",()=>{G(t,e.value,n,null,"← back to search",".plant-library",R)},"PLANT_SEARCH"),g.addEventListener(document,"click",D,"PLANT_SEARCH"),g.removeAllEventListeners("PLANT_NAV")},sn=()=>{const{plantLibrary:e}=v,t=i({tagName:"div",classEl:["section-header"]}),n=i({tagName:"h1",textContent:"Plant Library",classEl:["plant-library-title"]}),a=i({tagName:"div",classEl:["library-search-container"]}),{searchTags:s,tagButtons:o}=on(),r=i({tagName:"label",textContent:"Search Plants:",classEl:["visually-hidden"],fr:"plant-search-input"}),l=i({tagName:"input",placeholder:"Search",id:"plant-search-input"}),d=i({tagName:"p",classEl:["plants-found-counter"],textContent:""}),u=i({tagName:"div",classEl:["search-results"],id:"search-results-container"});return c(a,s),c(t,n),c(a,r,l,d,u),c(e,t,a),nn(o,e,l,u),{searchInput:l,searchResultsContainer:u}},on=()=>{const e=i({tagName:"div",classEl:["search-tags"]}),t=i({tagName:"button",textContent:"All",classEl:["search-tag"],id:"all-tag"}),n=i({tagName:"button",textContent:"Beginner",classEl:["search-tag"],id:"beginner-tag"}),a=i({tagName:"button",textContent:"Medium",classEl:["search-tag"],id:"medium-tag"}),s=i({tagName:"button",textContent:"Advanced",classEl:["search-tag"],id:"advanced-tag"});t.classList.add("active"),t.inactiveBtns=[n,a,s],n.inactiveBtns=[t,a,s],a.inactiveBtns=[t,n,s],s.inactiveBtns=[t,n,a];const o=[t,n,a,s];return c(e,t,n,a,s),{searchTags:e,tagButtons:o}},rn=e=>{const t=i({tagName:"div",classEl:["plant-element"]}),n=i({tagName:"div",classEl:["plant-result-container"]}),a=i({tagName:"div",classEl:["plant-text-container"]}),s=i({tagName:"p",textContent:e.name,classEl:["plant-result-title"]}),o=i({tagName:"p",textContent:e.shortDescription,classEl:["plant-result-description"]}),r=i({tagName:"p",textContent:e.skill[0],classEl:["plant-result-tag"]}),l=i({tagName:"img",classEl:["plant-result-image"],alt:"Plant image"}),d=i({tagName:"div",classEl:["plant-result-image-container"]}),u=i({tagName:"div",classEl:["line-separator"]});l.src=e.image;const m=M(),h=i({tagName:"div",classEl:["search-drop-menu"]});return t.plantObject=e,c(a,s,o,r),c(d,l),c(h,m),c(n,d,a,h),c(t,n,u),g.addEventListener(m,"click",f=>{S(f,cn,m,e),g.addEventListener(document,"click",D,"PLANT_LOG")},"PLANT_LOG"),t},ln=()=>{const e=document.querySelector(".drop-menu-container");e&&e.remove()},cn=(e,t)=>{const n=Se(t),a=i({tagName:"div",classEl:["drop-menu-container","add-plant"]}),s=i({tagName:"p",textContent:n?"Added":"Add to My Plants",classEl:["drop-menu-item"]});n&&(a.style.cursor="default"),c(a,s),c(e,a),g.addEventListener(s,"click",()=>{tn(s,t,n)},"PLANT_SEARCH")},Se=e=>{const t=p.getPlant(e),n=p.getDeletedPlants(),a=k(n,e.id);if(t||a)return!0},dn=e=>{const t=i({tagName:"p",textContent:"Added",classEl:["drop-menu-item"]});e.parentNode.replaceChild(t,e)},gn=(e,t,n)=>{const a=i({tagName:"div",classEl:["requirements-section"]}),s=i({tagName:"div",classEl:["requirements"]}),o=i({tagName:"div",classEl:["requirement-container"]}),r=i({tagName:"div",classEl:["requirement-icon-container"]}),l=i({tagName:"img",classEl:["water-scheduele-icon"],alt:"Watering can icon"}),d=i({tagName:"div",classEl:["requirement-container"]}),u=i({tagName:"div",classEl:["requirement-icon-container"]}),m=i({tagName:"img",classEl:["temp-light-icon"],alt:"Temperature icon"}),h=i({tagName:"p",textContent:t.waterSchedule,classEl:["requirement"]}),f=i({tagName:"p",textContent:t.tempLight,classEl:["requirement"]});e.classList.add("plant-page-modal"),a.classList.add("hidden"),l.src=at,m.src=Ce;const w=i({tagName:"button",classEl:["add-requirement-btn"],ariaLabel:"Add new requirement"}),N=i({tagName:"div",classEl:["add-btn-image-container"]}),A=i({tagName:"img",classEl:["add-btn-image"],alt:"Add icon"});return A.src=Le,c(N,A),c(w,N),c(r,l),c(u,m),c(o,r,h),c(d,u,f),t.tempLight&&t.waterSchedule&&c(s,o,d),c(a,s,e,w),t.requirements&&t.requirements.forEach($=>{Oe(t,s,$)}),g.addEventListener(w,"click",()=>{Vn(e,s,n,t)},`PLANT_PAGE_${n}`),a},Y=e=>i({tagName:"button",textContent:e,classEl:["tag-button"]}),un=e=>{let t,n,a,s;e.skill&&(t=Y(e.skill[0])),e.florwering&&e.florwering.includes("Yes")&&(n=Y("Flowering")),e.transferToOutdoors&&e.transferToOutdoors.includes("Yes")&&(a=Y("+ Outdoors")),e.lowEffort&&e.lowEffort.includes("No")&&(s=Y("Low effort"));const o=i({tagName:"div",classEl:["tag-container"]});return c(o,t,n,a,s),o},mn=(e,t,n)=>{const a=i({tagName:"div",classEl:["tasks-section"]}),s=i({tagName:"div",classEl:["tasks"]}),o=i({tagName:"button",classEl:["add-task-btn"],ariaLabel:"Add new task"}),r=i({tagName:"div",classEl:["new-task-image-container"]}),l=i({tagName:"img",classEl:["new-task-image"],alt:"Plant image for this task"});return a.classList.add("hidden"),l.src=Le,c(r,l),c(o,r),c(a,s,o),e.tasks&&e.tasks.forEach(d=>{Ie(e,s,d.description,n,t)}),g.addEventListener(o,"click",()=>{jn(t,s,n,e)},`PLANT_PAGE_${n}`),a},hn=(e,t,n,a)=>{const s=i({tagName:"div",classEl:["drop-menu-container","select-menu"]}),o=i({tagName:"p",textContent:"Edit",classEl:["drop-menu-item"]}),r=i({tagName:"p",textContent:"Delete",classEl:["drop-menu-item"]});c(s,o,r),c(e,s),Xn(o,t,r,n,a)},Ae=(e,t,n,a,s,o)=>{e.selected===!1?(t.style.backgroundColor=s,t.style.border=o):(t.style.backgroundColor=n,t.style.border=a)},pn=(e,t,n,a,s)=>{const{mainSection:o,aboutSection:r,requirementsSection:l,tasksSection:d}=wn(e,t),u=i({tagName:"p",textContent:"This plant has been archived",classEl:["archived-plant-message"]});fn(e,u);const m=i({tagName:"div",classEl:["header-container"]}),h=i({tagName:"h1",textContent:e.name,classEl:["plant-title"]}),f=$t(r,l,d,t),w=i({tagName:"div",classEl:["plant-page-image-container"]}),N=i({tagName:"img",classEl:["plant-page-image"],alt:"Plant image"}),{plantDescriptionContainer:A,plantDescription:$}=vn(e),re=i({tagName:"div",classEl:["sub-header"]}),j=i({tagName:"div",classEl:["back-button"],ariaLabel:"Back to dahsboard"}),le=i({tagName:"img",alt:"Back button image"}),Ge=un(e);le.src=ke,N.src=e.image;let _="";_=yn(a,_,e),_.classList.add("section-button"),c(j,le),c(m,j,h,_),c(w,N),c(r,w,Ge,A),c(n,u,re,m,f,o),Wn(_,e,h,$,w,N,n,t,s,re,j)},fn=(e,t)=>{const n=p.getDeletedPlants();k(n,e.id)||t.classList.add("hidden")},wn=(e,t)=>{const n=i({tagName:"div",classEl:["requirement-modal","hidden"]}),a=i({tagName:"div",classEl:["about-section","flex"]}),s=gn(n,e,t),o=mn(e,n,t),r=i({tagName:"div",classEl:["main-plant-section"]});return c(r,a,s,o),{mainSection:r,aboutSection:a,requirementsSection:s,tasksSection:o}},vn=e=>{const t=i({tagName:"p",textContent:e.description,classEl:["plant-description"]}),n=i({tagName:"p",textContent:"Overview",classEl:["plant-description-header"]}),a=i({tagName:"div",classEl:["plant-description-container"]});return c(a,n,t),{plantDescriptionContainer:a,plantDescription:t}},yn=(e,t,n)=>{const a=Se(n),s=k(p.getDeletedPlants(),n.id);return e==="← back to My Plants"?i({tagName:"button",textContent:"Edit",id:"edit-btn",classEl:["edit-btn"]}):e==="← back to results"&&!a||e==="← back to search"&&!a?i({tagName:"button",textContent:"Add plant",classEl:["add-to-plants-btn"]}):s?Z("ARCHIVE"):Z("ADDED")},W=(e,t,n,a,s)=>{document.querySelector("footer").classList.add("hidden"),pn(e,a,t,n,s),window.scrollTo(0,0)},bn=e=>{const t=k(F,e.id);t&&(t.isAdded=!1),p.permanentDelete(e)},Be=e=>{const t={name:e.name,dateAdded:Qe(),description:e.description,shortDescription:e.shortDescription,skill:e.skill,flowering:e.flowering,transferToOutdoors:e.transferToOutdoors,waterSchedule:e.waterSchedule,tempLight:e.tempLight,lowEffort:e.lowEffort,image:e.image,id:e.id,requirements:e.requirements,tasks:e.tasks,tags:e.tags};p.addToUserPlantLog(t)},En=e=>{const t=F,{suitablePlants:n,closestPlants:a}=Ln(e,t);n.length===0?ee(a):ee(n)},Ln=(e,t)=>{const n=t.filter(s=>s.skill.includes(e.skill)&&s.location.includes(e.location)&&s.flowering.includes(e.flowering)&&s.size.includes(e.size)&&s.transferToOutdoors.includes(e.transferToOutdoors)&&s.time.includes(e.time)&&s.interest.includes(e.interest)&&s.lowEffort.includes(e.lowEffort)),a=t.filter(s=>s.skill.includes(e.skill)&&s.size.includes(e.size)&&s.transferToOutdoors.includes(e.transferToOutdoors));return{suitablePlants:n,closestPlants:a}},se=()=>{An()},kn=()=>{let e={};return{addUserAnswer:(t,n)=>{e[t]=n},refreshAnswerLog:()=>{e={}},getUserAnswerLog:()=>e}},X=kn(),Nn=(e,t,n,a,s,o)=>{if(X.addUserAnswer(e,t,n),U(a,s,o),n===8){const l=X.getUserAnswerLog();En(l);return}const r=n+1;qe(I[n].question,I[n].answers,I[n].category,r)},Pn=()=>{const{plantQuiz:e}=v;X.refreshAnswerLog(),y(e),se()},Cn=(e,t,n,a,s,o,r)=>{q(e,t,n,a),r.classList.add("show"),o.classList.add("hidden"),g.addEventListener(r,"click",()=>{Pn()},"PLANT_QUIZ"),qe(I[0].question,I[0].answers,I[0].category,1)},Tn=(e,t,n)=>{e.classList.add("hidden"),e.classList.remove("flex"),ve("block",t),W(n,t,"← back to results",".plant-quiz",se)},Sn=e=>{const t=i({tagName:"div",classEl:["result-container"]}),n=i({tagName:"p",textContent:e.name,classEl:["result-title"]}),a=i({tagName:"div",classEl:["result-image-container"]}),s=i({tagName:"img",alt:"Plant quiz result"});return s.src=e.image,c(a,s),c(t,a,n),{resultContainer:t}},An=()=>{const{plantQuiz:e}=v,t=i({tagName:"div",classEl:["quiz-container","flex"]}),n=i({tagName:"h1",classEl:["section-title"],textContent:"Plant Quiz"}),a=i({tagName:"div",classEl:["question-container"]}),s=i({tagName:"p",textContent:"Find suitable plants",classEl:["quiz-subheader"]}),o=i({tagName:"p",classEl:["quiz-description"],textContent:"Take the plant quiz to find out which plants are best suited for you!"}),r=i({tagName:"button",textContent:"Start Quiz",classEl:["start-quiz-btn"]}),l=i({tagName:"div",classEl:["back-button","restart-quiz-button"],ariaLabel:"Restart quiz"}),d=i({tagName:"img",alt:"Back button"});d.src=ke,l.classList.add("hidden");const u=fe("Snake Plant","For beginners",Pe),m=fe("Peace Lily","Flowering plant",Ne),h=i({tagName:"div",classEl:["card-container","flex"]});return c(h,u,m),c(l,d),c(a,s,o,h,r),c(t,l,n,a),c(e,t),g.addEventListener(r,"click",()=>{Cn(h,s,o,r,t,n,l)},"PLANT_QUIZ"),{quizContainer:t,quizTitle:n,questionContainer:a,quizSubtitle:s,cardContainer:h,quizDescription:o,startQuizBtn:r,restartQuizBtn:l}},fe=(e,t,n)=>{const a=i({tagName:"div",classEl:["plant-card"]}),s=i({tagName:"p",textContent:e,classEl:["card-title"]}),o=i({tagName:"p",textContent:t,classEl:["card-subtitle"]}),r=i({tagName:"div",classEl:["card-image-container"]}),l=i({tagName:"img",classEl:["card-image"],alt:"Image of plant"});return l.src=n,c(r,l),c(a,s,o,r),a},Bn=(e,t,n)=>{let a=e;e.length>2&&(a=$e(e,2)),t.plantResults=a,n.quizResult=!0,a.forEach(s=>{const{resultContainer:o}=Sn(s);c(t,o),g.addEventListener(o,"click",()=>{Tn(t,n,s)},"PLANT_QUIZ")})},qn=e=>{const t=document.querySelector(".quiz-container"),n=document.querySelector(".question-container"),a=i({tagName:"div",classEl:["plant-quiz-result-page","plant-page-container"],id:"secondary-plant-page"});return a.classList.add("hidden"),c(e,a),U(t,n),{quizContainer:t,plantInfoContainer:a}},ee=e=>{const{plantQuiz:t}=v,{quizContainer:n,plantInfoContainer:a}=qn(t);Bn(e,n,a)},Dn=(e,t,n,a,s,o)=>{e.forEach(r=>{const l=i({tagName:"button",textContent:r,classEl:["choice-btn"]});c(o,l),g.addEventListener(l,"click",()=>{Nn(t,r,n,a,s,o)},"PLANT_QUIZ")})},qe=(e,t,n,a)=>{const s=document.querySelector(".question-container"),o=i({tagName:"h1",textContent:e,classEl:["question-title"]}),r=i({tagName:"div",classEl:["choice-btn-container"]});c(s,o,r),Dn(t,n,a,s,o,r)},xn=(e,t)=>{document.querySelector("footer").classList.remove("hidden");const a=document.getElementById("secondary-plant-page");if(a&&a.quizResult){On(a);return}else a&&!a.quizResult&&a.remove();H(e,t)},On=e=>{const t=document.querySelector(".quiz-container"),n=document.querySelectorAll(".result-container");e.remove(),n.forEach(a=>a.remove()),t.classList.add("flex"),t.classList.remove("hidden"),ee(t.plantResults)},In=e=>{p.deletePlantFromLog(e),H("plant-log",C)},De=()=>{const e=document.querySelector(".modal-overlay"),t=i({tagName:"div",classEl:["are-you-sure-modal"],id:"are-you-sure-modal"}),n=i({tagName:"p",textContent:"Are you sure?",classEl:["modal-text"]}),a=i({tagName:"div",classEl:["are-you-sure-button-container"]}),s=i({tagName:"button",textContent:"Yes",classEl:["are-you-sure-button"],id:"yes-btn"}),o=i({tagName:"button",textContent:"No",classEl:["are-you-sure-button"],id:"no-btn"});return c(a,s,o),c(t,n,a),c(e,t),P(t),{areYouSureModal:t,yesBtn:s,noBtn:o}},Mn=e=>{const{areYouSureModal:t,yesBtn:n,noBtn:a}=De();g.addEventListener(n,"click",()=>{b(t),p.deletePlantFromLog(e),H("plant-log",C)},"PLANT_PAGE"),g.addEventListener(a,"click",()=>{b(t)},"PLANT_PAGE")},Hn=(e,t,n,a)=>{const{areYouSureModal:s,yesBtn:o,noBtn:r}=De();g.addEventListener(o,"click",()=>{b(s),zn(e,t,n,a)},"PLANT_PAGE"),g.addEventListener(r,"click",()=>{b(s)},"PLANT_PAGE")},zn=async(e,t,n,a)=>{const s=p.getOriginalPlant(e);e.name=s.name,e.dateAdded=s.dateAdded,e.description=s.description,await ye(e.image,"plants"),e.image=s.image,E(e),y(t.sectionContainer),W(e,t.sectionContainer,"← back to My Plants",n,a)},_n=(e,t,n,a,s,o)=>{g.addEventListener(s,"click",()=>{Mn(e)},"PLANT_PAGE"),g.addEventListener(o,"click",()=>{Hn(e,t,n,a)},"PLANT_PAGE")},Rn=(e,t,n,a)=>{e.type="file",e.classList.add("edit-plant-image"),e.accept="image/*",t.plantImageContainer.insertBefore(e,t.plantImageContainer.firstChild),g.addEventListener(e,"change",async s=>{const o=sessionStorage.getItem("guestLogin");us(s,async r=>{const l=new FileReader;l.onload=d=>{t.plantImage.src=d.target.result,o&&(a.image=d.target.result,E(a))},l.readAsDataURL(r);try{await ye(a.image);const d=await be(r,"plants");a.image=d}catch(d){console.error("Error uploading image:",d)}})},`PLANT_PAGE_${n}`)},Un=(e,t)=>{Be(t),Jt(e,t)},Yn=(e,t,n,a,s)=>{t.textContent==="Edit"?Gn(e,t,n,a,s):Kn(e,t,n)},Fn=(e,t)=>{y(t.plantTitle),y(t.plantDescription);const n=i({tagName:"input",classEl:["edit-plant-title"],placeholder:e.name}),a=i({tagName:"textarea",classEl:["edit-plant-notes"],value:e.description});c(t.plantTitle,n),c(t.plantDescription,a)},Gn=(e,t,n,a,s)=>{t.textContent="Save",Fn(e,n);const o=i({tagName:"input",classEl:["file-input"],id:"file-upload",type:"file"}),r=i({tagName:"label",classEl:["file-upload-label"],fr:"file-upload"}),l=i({tagName:"img",classEl:["image-input-img"],alt:"Add icon"}),d=document.querySelector(".plant-page-image-container");l.src=Ee,c(r,l,o),c(d,r),Rn(o,n,a,e);const u=i({tagName:"div",classEl:["edit-button-container"]}),m=i({tagName:"button",textContent:"Delete Plant",classEl:["delete-plant-btn","plant-page-nav-button"]}),h=i({tagName:"button",textContent:"Reset plant details",classEl:["reset-plant-btn","plant-page-nav-button"]}),f=document.querySelector(".about-section");c(u,h,m),c(f,u),_n(e,n,a,s,m,h)},Kn=async(e,t,n)=>{t.textContent="Edit";let a=document.querySelector(".edit-plant-title").value,s=document.querySelector(".edit-plant-notes").value;a!==""?e.name=a:a=e.name,s!==""?e.description=s:s=e.description;const o=document.querySelector(".edit-button-container"),r=document.querySelector(".about-section");U(r,o),E(e),n.plantTitle.textContent=a,n.plantDescription.textContent=s,Vt()},xe=(e,t,n,a,s,o,r,l)=>{const d=document.querySelector(".modal-overlay");g.addEventListener(e,"click",()=>{r(l,a,s.value,o,n)},`PLANT_PAGE_${o}`),g.addEventListener(t,"click",()=>{b(n)},`PLANT_PAGE_${o}`),g.addEventListener(d,"click",()=>{b(n)},`PLANT_PAGE_${o}`),g.addEventListener(n,"click",u=>{u.stopPropagation()},`PLANT_PAGE_${o}`)},Wn=(e,t,n,a,s,o,r,l,d,u,m)=>{const h=e.classList.contains("edit-btn"),f=e.classList.contains("add-to-plants-btn"),w=document.querySelector(".added-to-plants-icon");h&&g.addEventListener(e,"click",()=>Yn(t,e,{plantTitle:n,plantDescription:a,plantImageContainer:s,plantImage:o,sectionContainer:r},l,d),`PLANT_PAGE_${l}`),f&&(pe(),g.addEventListener(e,"click",()=>{Un(e,t)},"PLANT_PAGE")),w&&pe(),g.addEventListener(m,"click",()=>{xn(l,d)},`PLANT_PAGE_${l}`)},Vn=(e,t,n,a)=>{const s=document.querySelector(".modal-overlay"),o=i({tagName:"input",placeHolder:"New requirement",classEl:["plant-page-input","new-input"]}),r=i({tagName:"button",textContent:"Add requirement",classEl:["submit-requirement-btn","submit-btn"]}),l=i({tagName:"button",textContent:"X",classEl:["cancel-btn"],ariaLabel:"Cancel"});P(e),c(e,l,o,r),c(s,e),xe(r,l,e,t,o,n,Oe,a)},Oe=(e,t,n,a,s)=>{if(n==="")return;b(s);const o=i({tagName:"div",classEl:["requirement-container"]}),r=i({tagName:"div",classEl:["requirement-icon-container"]}),l=i({tagName:"img",classEl:["requirement-icon"],alt:"A seedling"}),d=i({tagName:"p",textContent:n,classEl:["requirement"]});l.src=st;const u=M();u.classList.add("requirements-menu-dots"),c(r,l),c(o,r,d,u),c(t,o),e.requirements.includes(n)||(e.requirements.push(n),E(e)),g.addEventListener(u,"click",m=>{const h=e.requirements.find(f=>f===n);S(m,Jn,u,h,o,e),g.addEventListener(document,"click",D,"PLANT_PAGE")},"PLANT_PAGE")},Jn=(e,t,n,a)=>{const s=i({tagName:"div",classEl:["drop-menu-container","select-menu"]}),o=i({tagName:"p",textContent:"Delete",classEl:["drop-menu-item"]});c(s,o),c(e,s),Qn(t,o,n,a)},Qn=(e,t,n,a)=>{g.addEventListener(t,"click",()=>{$n(e,n,a)},"PLANT_LOG")},$n=async(e,t,n)=>{p.deletePlantRequirement(e),t&&t.parentNode&&t.parentNode.removeChild(t),await B(n.firestoreId,n,"plants")},jn=(e,t,n,a)=>{const s=document.querySelector(".modal-overlay"),o=i({tagName:"input",placeHolder:"New task",classEl:["plant-page-input","new-input"]}),r=i({tagName:"button",textContent:"Add task",classEl:["submit-requirement-btn","submit-btn"]}),l=i({tagName:"button",textContent:"X",classEl:["cancel-btn"],ariaLabel:"Cancel"});P(e),c(e,l,o,r),c(s,e),xe(r,l,e,t,o,n,Ie,a)},Ie=(e,t,n,a,s)=>{if(n==="")return;b(s);const o=i({tagName:"div",classEl:["new-task"]}),r=i({tagName:"button",classEl:["select-btn"]}),l=i({tagName:"p",textContent:n,classEl:["new-user-task"]}),d=M();if(d.classList.add("plant-page-task-menu"),c(o,r,l,d),c(t,o),!e.tasks.some(m=>m.description===n)){const m={id:Date.now(),description:n,selected:!1};e.tasks.push(m),E(e)}const u=e.tasks.find(m=>m.description===n);Ae(u,r,"rgb(159, 214, 83)","none","transparent","0.5px white solid"),Zn(r,u,a,d,o,e)},Zn=(e,t,n,a,s,o)=>{g.addEventListener(e,"click",()=>{Me(t,e,"rgb(159, 214, 83)","none","transparent","0.5px white solid"),E(o)},`PLANT_PAGE_${n}`),g.addEventListener(a,"click",r=>{S(r,hn,a,t,s,o),g.addEventListener(document,"click",D,"PLANT_PAGE")},"PLANT_PAGE")},Xn=(e,t,n,a,s)=>{g.addEventListener(e,"click",()=>{He(t,s)},"PLANT_PAGE"),g.addEventListener(n,"click",()=>{ze(t,a,s)},"PLANT_PAGE")},Me=(e,t,n,a,s,o)=>{e.selected===!1?(t.style.backgroundColor=n,t.style.border=a,e.selected=!0):(t.style.backgroundColor=s,t.style.border=o,e.selected=!1)},ea=(e,t,n)=>{g.addEventListener(e,"click",()=>{aa(t,e)},"PLANT_EDIT"),g.addEventListener(t,"click",a=>{ta(a,t)},"PLANT_EDIT"),g.addEventListener(n,"click",()=>{Fe()},"PLANT_EDIT")},ta=(e,t)=>{S(e,Ca,t,null)},na=e=>{e.forEach(t=>p.deletePlantFromLog(t)),H("plant-log",C)},aa=(e,t)=>{const n=document.querySelectorAll(".plant-select-button"),a=document.querySelectorAll(".plant-menu");t.editMode?(q(e),t.textContent="Select",t.editMode=!1,n.forEach(o=>o.classList.toggle("hidden")),a.forEach(o=>o.classList.add("flex")),H("plant-log",C),p.getUserPlantLog().forEach(o=>{o.selected=!1})):(ve("flex",e),t.textContent="Cancel",n.forEach(s=>s.classList.add("show")),a.forEach(s=>s.classList.toggle("hidden")),t.editMode=!0,sa(t))},sa=e=>{const t=document.querySelector(".user-plants");g.removeAllEventListeners("PLANT_CONTAINER"),g.addEventListener(t,"click",n=>{let a=n.target;for(;a&&a!==t;){if(a.classList.contains("plant-image")){const s=a.getAttribute("data-id"),o=p.getPlantById(s,p.getUserPlantLog()),l=a.closest(".user-plant").querySelector(".plant-select-button");o&&e.textContent==="Cancel"&&(Ma(l),Ha(o));return}a=a.parentNode}},"PLANT_CONTAINER")},oa=(e,t)=>{g.addEventListener(e,"click",n=>{t.archived?S(n,Sa,e,t):S(n,Aa,e,t),g.addEventListener(document,"click",D,"DOCUMENT")},"DOCUMENT")},ia=async(e,t)=>{const a=e.target.closest(".user-plant");t.pinned?t.pinned=!1:(t.pinned=!0,Ye(a)),E(t),z(p.getUserPlantLog())},ra=(e,t,n,a,s,o,r)=>{g.addEventListener(e,"click",()=>{la(n,a,s)}),g.addEventListener(t,"click",l=>{l.preventDefault(),da(n,a,s,o,r)})},la=async(e,t,n)=>{const a=t.tags.find(s=>s.description===e.textContent);t.tags=x(t.tags,a.id),E(t),b(n),z(p.getUserPlantLog())},ca=(e,t)=>{const n=document.querySelector(".modal-overlay"),a=i({tagName:"div",classEl:["new-modal"]}),s=i({tagName:"form",classEl:["modal-form"],id:"edit-tag-form"}),o=i({tagName:"label",classEl:["visualy-hidden"],fr:"edit-tag-input"}),r=i({tagName:"p",textContent:"Tag name needs to be max 10 letters",classEl:["modal-error-message"]}),l=i({tagName:"input",placeholder:e.textContent,classEl:["new-input"],id:"edit=tag=input"}),d=i({tagName:"div",classEl:["edit-tag-buttons"],ariaLabel:"Edit tag"}),u=i({tagName:"button",textContent:"Delete",classEl:["delete-tag-btn"],type:"button"}),m=i({tagName:"button",textContent:"Update",classEl:["update-tag-btn","submit-btn"],type:"submit"});P(a,null,"PLANT_LOG"),c(d,u,m),c(s,o,l,d),c(a,r,s),c(n,a),ra(u,m,e,t,a,l,r)},da=async(e,t,n,a,s)=>{if(a.value==="")return;if(a.value.length>10){s.classList.add("show");return}const o=t.tags.find(r=>r.description===e.textContent);o.description=a.value,E(t),b(n),z(p.getUserPlantLog())},ga=e=>{const t=document.querySelector(".modal-overlay"),n=document.querySelector(".drop-menu-container"),a=i({tagName:"div",classEl:["new-modal"]}),s=i({tagName:"form",classEl:["modal-form"],id:"new-tag-form"}),o=i({tagName:"label",textContent:"Tag name:",fr:"new-tag-input",classEl:["visually-hidden"]}),r=i({tagName:"p",textContent:"Tag name needs to be max 10 letters",classEl:["modal-error-message","hidden"]}),l=i({tagName:"input",placeholder:"e.g. New, Flowering",classEl:["new-input"],id:"new-tag-input"}),d=i({tagName:"button",textContent:"Add tag",classEl:["submit-btn"],type:"submit"}),u=i({tagName:"p",textContent:"X",classEl:["cancel-btn"]});P(a,n,"PLANT_LOG"),c(s,o,l,r,d),c(a,u,s),c(t,a),g.addEventListener(s,"submit",m=>{m.preventDefault(),ua(e,l.value,a,r)},"PLANT_LOG")},ua=(e,t,n,a)=>{if(t!==""){if(t.length>10){a.classList.add("show");return}if(b(n),!e.tags.some(s=>s.description===t)){const s={id:Date.now(),description:t};e.tags.push(s)}E(e),z(p.getUserPlantLog())}},ma=(e,t,n)=>{g.addEventListener(e,"click",()=>{K(e,t,!0,n),e.active=!0},"PLANT_TASK"),g.addEventListener(t,"click",()=>{K(t,e,!1,n),e.active=!1},"PLANT_TASK")},K=(e,t,n,a)=>{y(a),Re(n),e.style.fontWeight=600,t.style.fontWeight=300},ha=(e,t,n,a,s)=>{g.addEventListener(e,"click",()=>{Me(t,e,"#9fd653","none","rgba(255, 255, 255, 0.224)","none"),E(s),J(),V()},"PLANT_LOG"),g.addEventListener(n,"click",o=>{S(o,xa,n,t,a,s),g.addEventListener(document,"click",D,"PLANT_LOG")},"PLANT_LOG")},pa=(e,t,n,a,s)=>{g.addEventListener(e,"click",()=>{He(t,s)},"PLANT_LOG"),g.addEventListener(n,"click",()=>{ze(t,a,s),V(),J()},"PLANT_LOG")},He=(e,t)=>{const n=document.querySelector(".modal-overlay"),a=i({tagName:"div",classEl:["new-modal"]}),s=i({tagName:"form",classEl:["modal-form"],id:"edit-task-form"}),o=i({tagName:"label",textContent:"Task name:",fr:"edit-task-input",classEl:["visually-hidden"]}),r=i({tagName:"input",placeholder:e.description,classEl:["new-input"],id:"edit-task-input"}),l=i({tagName:"button",textContent:"Update",classEl:["update-tag-btn","submit-btn"]});P(a,null,"PLANT_TASK"),c(s,o,r,l),c(a,s),c(n,a),g.addEventListener(l,"click",d=>{d.preventDefault(),fa(e,r,a,t)})},fa=async(e,t,n,a)=>{t.value!==""&&(e.description=t.value,E(a),b(n),Oa())},ze=async(e,t,n)=>{p.deletePlantTask(e.id),t&&t.parentNode&&t.parentNode.removeChild(t),await B(n.firestoreId,n,"plants")},wa=e=>{const t=document.querySelector(".modal-overlay"),n=document.querySelector(".drop-menu-container"),a=i({tagName:"div",classEl:["new-modal"]}),s=i({tagName:"form",classEl:["modal-form"],id:"new-task-form"}),o=i({tagName:"label",textContent:"Task name:",fr:"new-task-input",classEl:["visually-hidden"]}),r=i({tagName:"input",placeholder:"New task",classEl:["new-input"],id:"new-task-input"}),l=i({tagName:"button",textContent:"Add task",classEl:["submit-btn"],type:"submit"}),d=i({tagName:"p",textContent:"X",classEl:["cancel-btn"],ariaLabel:"Cancel task",type:"button"});P(a,n,"PLANT_LOG"),c(s,o,r,l),c(a,d,s),c(t,a),g.addEventListener(l,"click",()=>{va(e,r.value,a)},"PLANT_LOG")},va=async(e,t,n)=>{if(sessionStorage.getItem("guestLogin"),t!==""){if(b(n),!e.tasks.some(a=>a.description===t)){const a={id:Date.now(),description:t,selected:!1};e.tasks.push(a)}E(e),z(p.getUserPlantLog()),oe(),V()}},ya=(e,t)=>{g.addEventListener(e,"click",()=>{t.forEach(n=>{n.tasks=[],E(n),_e()})})},ba=(e,t,n)=>{g.addEventListener(e,"click",()=>{La(),O(e,"white","rgba(255, 255, 255, 0.224","black","white",...e.inactiveBtns)},"PLANT_NAV"),g.addEventListener(t,"click",()=>{_e(),O(t,"white","rgba(255, 255, 255, 0.224","black","white",...t.inactiveBtns)},"PLANT_NAV"),g.addEventListener(n,"click",()=>{Ea(),O(n,"white","rgba(255, 255, 255, 0.224","black","white",...n.inactiveBtns)},"PLANT_NAV")},Ea=()=>{const{editButtonContainer:e,userPlantsContainer:t,addNewPlantDesktopButton:n}=L.getPlantLogElements(),a=document.querySelector(".task-results"),s=document.querySelector(".task-select-container");y(a),q(s,a),Ue(),e.classList.add("flex"),e.classList.remove("hidden"),n.classList.remove("hide-desktop"),t.classList.remove("zero-height"),z(p.getUserPlantLog()),oe()},_e=()=>{const{editButtonContainer:e,userPlantsContainer:t,addNewPlantDesktopButton:n}=L.getPlantLogElements(),a=document.querySelector(".task-results");y(a),a.classList.add("flex"),a.classList.remove("hidden"),q(e),t.classList.add("zero-height"),n.classList.add("hide-desktop"),Re(!1),Ba(),J(),V()},La=()=>{const{editButtonContainer:e,userPlantsContainer:t,addNewPlantDesktopButton:n}=L.getPlantLogElements(),a=document.querySelector(".task-results"),s=document.querySelector(".task-select-container");y(a),Ue(),q(e,a,s),t.classList.remove("zero-height"),n.classList.add("hide-desktop"),te()},ka=(e,t,n,a,s)=>{g.addEventListener(e,"click",()=>{wa(t)}),g.addEventListener(n,"click",()=>{if(t.tags.length>1){Ra();return}ga(t)}),g.addEventListener(a,"click",o=>{ia(o,t)}),g.addEventListener(s,"click",()=>{In(t)})},Na=(e,t,n)=>{g.addEventListener(e,"click",()=>{p.removeFromDeletedPlants(t),te(),t.selected=!1,console.log(t)},"PLANT_LOG"),g.addEventListener(n,"click",()=>{bn(t),te()},"PLANT_LOG")},Pa=(e,t,n,a)=>{const{userPlantsContainer:s}=L.getPlantLogElements(),o=i({tagName:"div",classEl:["plant-page-container"]});g.addEventListener(s,"click",r=>{let l=r.target;for(;l&&l!==s;){if(l.classList.contains("plant-image")){const d=l.getAttribute("data-id"),u=p.getPlantById(d,t);u&&(g.removeAllEventListeners("PLANT_NAV"),g.removeAllEventListeners("PLANT_SEARCH"),y(e),c(e,o),W(u,o,a,"plant-log",n));return}l=l.parentNode}},"PLANT_CONTAINER")},Ca=e=>{const t=p.getUserPlantLog();console.log("userplants:",t);const n=t.filter(o=>o.selected===!0),a=i({tagName:"div",classEl:["drop-menu-container","select-menu"]}),s=i({tagName:"p",textContent:"Delete selected",classEl:["drop-menu-item"]});c(a,s),c(e,a),g.addEventListener(s,"click",()=>{na(n)})},Ta=()=>{const{plantLogEl:e}=v,t=i({tagName:"div",classEl:["search-tags"]}),n=i({tagName:"button",classEl:["search-tag","log-menu-btn","active"],id:"log-all",textContent:"All"}),a=i({tagName:"button",classEl:["search-tag","log-menu-btn"],id:"log-tasks",textContent:"Tasks"}),s=i({tagName:"div",classEl:["task-count-icon"]}),o=i({tagName:"button",classEl:["search-tag","log-menu-btn"],id:"log-archive",textContent:"Archive"}),r=i({tagName:"div",classEl:["task-results","hidden"]});c(e,r),c(a,s);const{numberOfTasks:l}=Q(p.getUserPlantLog());s.textContent=l;const d=l>0?"show":"hidden";return s.classList.remove("show","hidden"),s.classList.add(d),n.inactiveBtns=[a,o],a.inactiveBtns=[n,o],o.inactiveBtns=[n,a],ba(o,a,n),c(t,n,a,o),t},S=(e,t,n,a,s,o)=>{e.stopPropagation(),ln(),t(n,a,s,o)},Sa=(e,t)=>{const n=i({tagName:"div",classEl:["drop-menu-container","plant-menu"]}),a=i({tagName:"p",textContent:"Unarchive",classEl:["drop-menu-item"]}),s=i({tagName:"p",textContent:"Permanent delete",classEl:["drop-menu-item"]});c(n,a,s),c(e,n),Na(a,t,s)},Aa=(e,t)=>{const n=i({tagName:"div",classEl:["drop-menu-container","plant-menu"]}),a=i({tagName:"p",textContent:"New task",classEl:["drop-menu-item"]}),s=i({tagName:"p",textContent:"New tag",classEl:["drop-menu-item"]}),o=i({tagName:"p",textContent:t.pinned?"Unpin":"Pin",classEl:["drop-menu-item"]}),r=i({tagName:"p",textContent:"Delete",classEl:["drop-menu-item"],id:"delete-plant-btn"});c(n,a,s,o,r),c(e,n),ka(a,t,s,o,r)},Ba=()=>{document.querySelector(".task-select-container").classList.add("flex")},qa=()=>{const e=document.querySelector(".task-results"),t=i({tagName:"div",classEl:["task-select-container"]}),n=i({tagName:"p",textContent:"|",classEl:["task-select"]}),a=i({tagName:"p",textContent:"Task list",classEl:["task-select","to-do-select"]}),s=i({tagName:"p",textContent:"Completed",classEl:["task-select","completed-select"]});return t.classList.add("hidden"),c(t,a,n,s),ma(s,a,e),t},Re=e=>{const{plantLogEl:t}=v,{userPlantsContainer:n}=L.getPlantLogElements(),a=document.querySelector(".task-results"),s=i({tagName:"button",classEl:["clear-btn"],textContent:"Clear all"});c(t,a),c(a,s),a.classList.remove("hidden"),y(n);const o=p.getUserPlantLog();o.forEach(r=>{r.tasks&&r.tasks.length>0&&r.tasks.forEach(l=>{if(l.selected===e){const d=Da(r,l);c(a,d)}})}),ya(s,o)},Da=(e,t)=>{const n=i({tagName:"div",classEl:["task-element"]}),a=i({tagName:"div",classEl:["task-result-container"]}),s=i({tagName:"button",classEl:["task-selector"],ariaLabel:"Select task"}),o=i({tagName:"div",classEl:["plant-task-image-container"]}),r=i({tagName:"img",classEl:["plant-task-image"],alt:"Plant image"}),l=i({tagName:"p",classEl:["plant-task-text"]}),d=i({tagName:"p",classEl:["plant-task-title","plant-result-title"],textContent:e.name});let u=i({tagName:"p",classEl:["task-description","plant-result-description"],textContent:t.description});const m=i({tagName:"div",classEl:["line-separator","task-line-seperator"]}),h=M(),f=i({tagName:"div",classEl:["search-drop-menu"]});n.plantObject=t;const w=i({tagName:"img",classEl:["select-icon-image"]});return w.src=ot,w.classList.add("hidden"),r.src=e.image,c(s,w),c(o,r),c(l,d,u),c(f,h),c(a,s,o,l,f),c(n,a,m),ha(s,t,h,n,e),Ae(t,s,"#9fd653","none","rgba(255, 255, 255, 0.224)","none"),n},xa=(e,t,n,a)=>{const s=i({tagName:"div",classEl:["drop-menu-container","select-menu"]}),o=i({tagName:"p",textContent:"Edit",classEl:["drop-menu-item"]}),r=i({tagName:"p",textContent:"Delete",classEl:["drop-menu-item"]});c(s,o,r),c(e,s),pa(o,t,r,n,a)},Oa=()=>{const e=document.querySelector(".completed-select"),t=document.querySelector(".to-do-select"),n=document.querySelector(".task-results");e&&(e.active===!0?K(e,t,!0,n):K(t,e,!1,n),J())},V=()=>{const e=document.querySelector(".task-count-icon");if(!e)return;const{numberOfTasks:t}=Q(p.getUserPlantLog());e.textContent=t;const n=t>0?"show":"hidden";e.classList.remove("show","hidden"),e.classList.add(n)},J=()=>{const{plantInfoBar:e}=L.getPlantLogElements();if(!e)return;const{numberOfTasks:t}=Q(p.getUserPlantLog());e.textContent=`${t} tasks`},Ia=()=>({createPlantLogElements:()=>{const{plantLogEl:e}=v,t=i({tagName:"div",classEl:["section-header"]}),n=i({tagName:"h1",textContent:"My Plants",classEl:["section-title"]}),a=i({tagName:"button",textContent:"+",id:"add-new-plant-desktop",classEl:["hidden-desktop-button"]}),s=i({tagName:"div",classEl:["info-bar-container"]}),o=i({tagName:"div",classEl:["plant-info-bar"]}),r=i({tagName:"div",classEl:["edit-plant-log-container"]}),l=i({tagName:"button",classEl:["edit-plant-log-button"],id:"select-plant-btn",textContent:"Select"});l.editMode=!1;const d=M(),u=i({tagName:"div",classEl:["user-plants"]}),m=Ta(),h=qa();c(r,l,d),c(s,o,r),c(t,n),c(e,t,m,a,s,h,u),q(d),ea(l,d,a)},getPlantLogElements:()=>{const e=document.querySelector(".section-title"),t=document.querySelector(".add-new-plant-btn"),n=document.querySelector(".user-plants"),a=document.querySelector(".plant-info-bar"),s=document.querySelector(".edit-plant-log-container"),o=document.querySelector(".edit-plant-log-button"),r=document.querySelector(".menu-dots-container"),l=document.getElementById("add-new-plant-desktop");return{plantLogTitle:e,addPlantBtn:t,userPlantsContainer:n,plantInfoBar:a,editButtonContainer:s,editButton:o,editDots:r,addNewPlantDesktopButton:l}}}),L=Ia(),Ma=e=>{e.isSelected?(e.style.backgroundColor="transparent",e.isSelected=!1):(e.style.backgroundColor="white",e.isSelected=!0)},Ha=e=>{e.selected?e.selected=!1:e.selected=!0,E(e)},Ue=()=>{const{editButton:e,editDots:t}=L.getPlantLogElements();e.editMode&&(q(t),e.textContent="Edit",e.editMode=!1)},oe=()=>{const{plantInfoBar:e}=L.getPlantLogElements(),{numberOfPlants:t}=Q(p.getUserPlantLog());e.textContent=`${t} plants`,za(t)},za=e=>{const{editButtonContainer:t}=L.getPlantLogElements();e===0?(t.classList.add("hidden"),t.classList.remove("flex")):(t.classList.add("flex"),t.classList.remove("hidden"))},Ye=e=>{const{userPlantsContainer:t}=L.getPlantLogElements();e&&t.prepend(e)},_a=e=>{const t=i({tagName:"div",classEl:["plant-tag-container"]}),n=e.tags;return n&&n.forEach(a=>{const s=i({tagName:"button",textContent:a.description,classEl:["plant-log-tag"]});c(t,s),g.addEventListener(s,"click",()=>{ca(s,e)},"PLANT_LOG")}),t},Ra=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".drop-menu-container"),n=i({tagName:"div",classEl:["new-modal"]}),a=i({tagName:"p",textContent:"Maximum tags added for this plant!",classEl:["modal-error-message"]});a.classList.add("show"),P(n,t,"PLANT_LOG"),c(n,a),c(e,n)},te=()=>{const{userPlantsContainer:e,plantInfoBar:t}=L.getPlantLogElements();y(e),ie(p.getDeletedPlants(),C,"← back to Plant Archive"),t.textContent=`${p.getDeletedPlants().length} archived plants`,document.querySelectorAll(".plant-log-tag").forEach(a=>{g.removeEventListener(a,"click","PLANT_LOG"),a.style.cursor="default"})},ie=(e,t,n)=>{if(e.length<0)return;const{plantLogEl:a}=v;Fa(e),Pa(a,e,t,n)},z=e=>{const{userPlantsContainer:t}=L.getPlantLogElements();y(t),ie(e,C,"← back to My Plants")},Ua=e=>{const t=document.querySelector(".user-plants"),n=i({tagName:"div",classEl:["user-plant"]}),a=i({tagName:"div",classEl:["plant-image-container"]}),s=i({tagName:"img",classEl:["plant-image"],dataAttributes:{id:e.id.toString()},alt:"Plant image"}),o=i({tagName:"div",classEl:["edit-plant-buttons"],ariaLabel:"Edit plant"}),r=i({tagName:"button",classEl:["plant-select-button"],ariaLabel:"Select plant"}),l=M(),d=_a(e),u=i({tagName:"p",classEl:["task-counter"]}),m=i({tagName:"p",classEl:["plant-grid-title"],textContent:e.name}),h=i({tagName:"div",classEl:["pin-icon-container"]}),f=i({tagName:"img",classEl:["pin-icon-img"],alt:"pin-icon"});if(f.src=nt,s.src=e.image,l.classList.add("plant-menu"),f.classList.add("hidden"),e.tasks){const w=e.tasks?e.tasks.filter(N=>!N.selected).length:0;u.textContent=`${w} tasks`}c(o,r,l),c(a,s,o),c(n,a,d,u,m),c(h,f),c(n,h),c(t,n),e.pinned===!0&&(f.classList.remove("hidden"),h.classList.add("show"),Ye(n)),oa(l,e)},C=()=>{L.createPlantLogElements(),ie(p.getUserPlantLog(),C,"← back to My Plants"),oe(),g.removeAllEventListeners("PLANT_SEARCH"),g.removeAllEventListeners("PLANT_LIBRARY")},Q=e=>{const t=e.reduce((a,s)=>{const o=s.tasks?s.tasks.filter(r=>!r.selected).length:0;return a+o},0);return{numberOfPlants:e.length,numberOfTasks:t}},Ya=()=>{let e=[],t=[],n=[],a=null,s=!1;return{setUserId:o=>{a=o,s=o==="guest"},initialisePlantLog:(o,r)=>{if(s){const l=JSON.parse(localStorage.getItem("userPlantLog"))||[],d=JSON.parse(localStorage.getItem("originalPlantLog"))||[];e=l,t=d,n=JSON.parse(localStorage.getItem("deletedPlantLog"))||[]}else e=o,t=r;e.forEach(l=>{l.archived===!0&&(e=x(e,l.id),n.push(l))})},addToUserPlantLog:async o=>{if(e.push(o),s){if(localStorage.setItem("userPlantLog",JSON.stringify(e)),!k(t,o.id)){const l=JSON.parse(JSON.stringify(o));t.push(l),localStorage.setItem("originalPlantLog",JSON.stringify(t))}}else{if(!k(t,o.id)){const d=JSON.parse(JSON.stringify(o));t.push(d);const u=await ce(a,d,"original");d.firestoreId=u,await B(u,d,"original"),o.originalFirestoreId=u}const l=await ce(a,o,"plants");o.firestoreId=l,await B(o.firestoreId,o,"plants")}},deletePlantFromLog:async o=>{k(e,o.id)&&(e=x(e,o.id),n.push(o),o.archived=!0,s?(localStorage.setItem("userPlantLog",JSON.stringify(e)),localStorage.setItem("deletedPlantLog",JSON.stringify(n))):await B(o.firestoreId,o,"plants"))},updatePlantInfo:async o=>{const r=k(e,o.id);r&&(r.name=o.name,r.dateAdded=o.dateAdded,r.image=o.image,s?localStorage.setItem("userPlantLog",JSON.stringify(e)):await B(o.firestoreId,o,"plants"))},removeFromDeletedPlants:async o=>{if(s){let r=JSON.parse(localStorage.getItem("deletedPlantLog"))||[],l=JSON.parse(localStorage.getItem("userPlantLog"))||[];const d=r.find(u=>u.id===o.id);d?(r=r.filter(u=>u.id!==o.id),localStorage.setItem("deletedPlantLog",JSON.stringify(r)),d.archived=!1,l.push(d),localStorage.setItem("userPlantLog",JSON.stringify(l)),e=l,n=r,console.log(e)):console.error("Plant not found in deletedPlants during unarchiving:",o)}else k(n,o.id)&&(n=x(n,o.id),e.push(o),o.archived=!1),await B(o.firestoreId,o,"plants")},permanentDelete:async o=>{n=x(n,o.id),t=x(t,o.id),s?(localStorage.setItem("deletedPlantLog",JSON.stringify(n)),localStorage.setItem("originalPlantLog",JSON.stringify(t))):(await de(o.firestoreId,"plants",o),await de(o.originalFirestoreId,"original",o))},getPlant:o=>s?(JSON.parse(localStorage.getItem("userPlantLog"))||[]).find(d=>d.id===o.id)||!1:k(e,o.id)||!1,getOriginalPlant:o=>s?(JSON.parse(localStorage.getItem("originalPlantLog"))||[]).find(l=>l.id===o.id):k(t,o.id),getPlantById:(o,r)=>r.find(l=>l.id.toString()===o),getUserPlantLog:()=>s?JSON.parse(localStorage.getItem("userPlantLog"))||[]:e,getOriginalPlantLog:()=>s?JSON.parse(localStorage.getItem("originalPlantLog"))||[]:t,getDeletedPlants:()=>s?JSON.parse(localStorage.getItem("deletedPlantLog"))||[]:n,deletePlantTask:o=>{if(s){const r=JSON.parse(localStorage.getItem("userPlantLog"))||[];r.forEach(l=>{if(l.tasks){const d=l.tasks.findIndex(u=>u.id===o);d!==-1&&l.tasks.splice(d,1)}}),localStorage.setItem("userPlantLog",JSON.stringify(r))}else e.forEach(r=>{if(r.tasks){const l=r.tasks.findIndex(d=>d.id===o);l!==-1&&r.tasks.splice(l,1)}})},deletePlantRequirement:o=>{if(s){const r=JSON.parse(localStorage.getItem("userPlantLog"))||[];r.forEach(l=>{if(l.requirements){const d=l.requirements.findIndex(u=>u===o);d!==-1&&l.requirements.splice(d,1)}}),localStorage.setItem("userPlantLog",JSON.stringify(r))}else e.forEach(r=>{if(r.requirements){const l=r.requirements.findIndex(d=>d===o);l!==-1&&r.requirements.splice(l,1)}})}}},p=Ya(),Fa=e=>{e.forEach(t=>{Ua(t)})},Ga=(e,t,n)=>{let a;return g.addEventListener(e,"change",s=>{const o=s.target.files[0];if(o){a=o;const r=new FileReader;r.onload=l=>{t.src=l.target.result,t.classList.add("large-image"),n.classList.toggle("hidden")},r.readAsDataURL(o)}},"ADD_PLANT"),()=>a},Ka=async(e,t,n,a,s)=>{const{myPlantsBtn:o}=v,r=sessionStorage.getItem("guestLogin");e.preventDefault();let l=s;if(ge(s)&&r)l=await new Promise((u,m)=>{const h=new FileReader;h.onload=()=>u(h.result),h.onerror=()=>m(new Error("Failed to read image file")),h.readAsDataURL(s)});else if(ge(s)&&!r)try{l=await be(s,"original")}catch(u){console.error("Error uploading image:",u);return}const d={name:t,dateAdded:n,description:a,image:l,id:Date.now(),requirements:[],tasks:[],tags:[]};await p.addToUserPlantLog(d),o.classList.contains("active")&&H("plant-log",C)},Wa=(e,t,n,a,s,o,r)=>{g.addEventListener(e,"click",l=>{if(l.preventDefault(),t.value===""){n.classList.add("show");return}const d=a?t.files[0]:t.value,u=document.querySelector(".new-modal"),m=o(),h=Va(d,s,l,m,u);u&&ne(u,h)},"ADD_PLANT"),g.addEventListener(r,"click",()=>{const l=document.querySelector(".new-modal"),d=Ja(s);l&&ne(l,d)},"ADD_PLANT")},Va=(e,t,n,a,s)=>{let o={...t.newPlant};if(t.currentStep===0)o.name=e;else if(t.currentStep===1)o.dateAdded=e;else if(t.currentStep===2)o.description=e;else if(t.currentStep===3)return Ka(n,o.name,o.dateAdded,o.description,a),b(s),{currentStep:0,newPlant:{}};return{currentStep:t.currentStep+1,newPlant:o}},Ja=e=>e.currentStep>0?{currentStep:e.currentStep-1,newPlant:e.newPlant}:e,ne=(e,t)=>{y(e);let n,a="",s="input",o="Next",r,l=!1,d;t.currentStep===0?(n="Plant name",r=["new-input"]):t.currentStep===1?(n="Date",a="date",r=["new-input"]):t.currentStep===2?(n="Description",s="textarea",r=["new-input","description-input"]):t.currentStep===3&&(r=["photo-input"],d="file-upload",l=!0,o="Create plant");const u=Qa(s,n,o,a,t,l,r,d);c(e,u)},Qa=(e,t,n,a,s,o,r,l)=>{const d=i({tagName:"form",classEl:["new-plant-form"],id:"new-plant-form"}),u=i({tagName:"label",textContent:t,fr:l,classEl:["visually-hidden"]}),m=i({tagName:e,placeholder:t,classEl:r,type:o?"file":a,id:l}),h=i({tagName:"p",textContent:"Please complete field",classEl:["modal-error-message"]});let f=()=>null,w;if(o){const A=$a(m);w=A.labelElement,f=A.getImageFile,c(d,w)}const{buttons:N}=ja(s,m,h,n,o,f);return c(d,u,m,h,N),d},$a=e=>{e.setAttribute("accept","image/*");const t=i({tagName:"label",classEl:["file-upload"],fr:"file-upload"}),n=i({tagName:"p",textContent:"Upload a photo",classEl:["upload-image-heading"]}),a=i({tagName:"img",classEl:["image-input-img"],alt:"Add icon"});a.src=Ee,c(t,n,a,e);const s=Ga(e,a,n);return{labelElement:t,getImageFile:s}},ja=(e,t,n,a,s,o)=>{const r=i({tagName:"button",textContent:a,classEl:["next-button","submit-btn"],ariaLabel:"Next Button",type:"submit"}),l=i({tagName:"button",textContent:"Back",classEl:["submit-btn"],ariaLabel:"Back Button",type:"button"}),d=i({tagName:"div",classEl:["plant-form-buttons"]});return e.currentStep>0&&c(d,l),c(d,r),Wa(r,t,n,s,e,o,l),{buttons:d,nextButton:r,backButton:l}},Fe=()=>{const e=document.querySelector(".modal-overlay"),t=i({tagName:"div",classEl:["new-modal"]});P(t,null,"ADD_MODAL"),c(e,t),ne(t,{currentStep:0,newPlant:{}})},Za=()=>{const e=document.querySelector(".profile-icon-container");g.addEventListener(e,"click",t=>{S(t,Xa,e)},"HOME_PAGE"),g.addEventListener(document,"click",D,"PLANT_LOG")},Xa=e=>{const t=sessionStorage.getItem("guestLogin"),n=i({tagName:"div",classEl:["drop-menu-container","profile-icon-menu"]}),a=i({tagName:"p",textContent:`${t?"Login page":"Logout"}`,classEl:["drop-menu-item"]}),s=i({tagName:"p",textContent:"Delete account",classEl:["drop-menu-item"]});c(n,a,!t&&s),c(e,n),es(a,s)},es=(e,t)=>{g.addEventListener(e,"click",async()=>{sessionStorage.getItem("guestLogin")&&sessionStorage.removeItem("guestLogin");try{await Kt(),window.location.href="/plant-bud/login.html"}catch(a){console.error("Error logging out:",a)}},"HOME_PAGE"),g.addEventListener(t,"click",async()=>{await Wt()},"HOME_PAGE")},ts=(e,t)=>{g.addEventListener(e,"click",()=>{T("HOME_PAGE")},"HOME_PAGE"),g.addEventListener(t,"click",()=>{T("MY_PLANTS")},"HOME_PAGE")},ns=async()=>{const e="7d937292bb8b1f3909c1d557d907ffbc",{latitude:t,longitude:n}=await je(),a=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${n}&appid=${e}&units=metric`;try{const s=await fetch(a);if(!s.ok)throw new Error("Error with network response");const o=await s.json();return as(o)}catch(s){console.log("There was an error in fetching weather data",s)}},as=e=>{const t={description:e.weather[0].main,temperature:Ze(e.main.temp),timestamp:new Date().getTime()};return localStorage.setItem("weatherData",JSON.stringify(t)),t},ss=async()=>{const e=localStorage.getItem("weatherData"),t=10*60*1e3;if(e){const n=JSON.parse(e);if(new Date().getTime()-n.timestamp<t)return n}return await ns()},os=async()=>{const{homePage:e}=v;document.querySelector("header");const t=i({tagName:"div",classEl:["logo-container"]}),n=i({tagName:"img",classEl:["logo-img"],alt:"Logo"}),a=i({tagName:"div",classEl:["welcome-message-container"]}),s=i({tagName:"p",textContent:"Welcome to PlantBud!",classEl:["welcome-message"]}),o=i({tagName:"button",textContent:"My Plants →",id:"home-page-action-button"}),r=document.querySelector(".plantBud-desktop-logo");n.src=tt,c(a,s,o),c(t,n),c(e,t,a),ts(r,o),await is()},is=async()=>{try{if(document.getElementById("weather-container"))return;const t=await ls(),n=document.querySelector("header");c(n,t)}catch(e){console.error("Error creating weather container:",e)}},rs=(e,t)=>{const o={clear:new Date().getHours()>=18?Gt:Ce,clouds:me,rain:Ut,drizzle:Rt,thunderstorm:Ft,snow:Yt}[e.toLowerCase()]||me;t.src=o},ls=async()=>{const e=await ss(),t=i({tagName:"div",id:"weather-container"}),n=i({tagName:"div",classEl:["weather-icon-container"]}),a=i({tagName:"img",classEl:["weather-icon"]}),s=i({tagName:"p",classEl:["temperature"]});return s.textContent=`${e.temperature}°C`,rs(e.description,a),c(n,a),c(t,n,s),t},cs=()=>{os(),Za()},T=e=>{const{myPlantsBtn:t,addNewPlantBtn:n,quizBtn:a,libraryBtn:s,homeBtn:o,desktopMyPlantsBtn:r,desktopQuizBtn:l,desktopLibraryBtn:d,desktopHomeBtn:u}=v,m={MY_PLANTS:{buttons:[t,r],renderFunc:C},PLANT_QUIZ:{buttons:[a,l],renderFunc:se},ADD_PLANT:{buttons:[n],renderFunc:Fe},PLANT_LIBRARY:{buttons:[s,d],renderFunc:R},HOME_PAGE:{buttons:[o,u],renderFunc:cs}},h=m[e],f=Object.values(m).flatMap(w=>w.buttons).filter(w=>!h.buttons.includes(w));if(!(!h||h.buttons.some(w=>w.classList.contains("active")))){if(h.buttons.some(w=>w.classList.contains("dormant"))){he(h.buttons,h.renderFunc,...f);return}he(h.buttons,h.renderFunc,...f),h.buttons.forEach(w=>w.classList.add("dormant"))}},ds=()=>{const{myPlantsBtn:e,addNewPlantBtn:t,quizBtn:n,libraryBtn:a,homeBtn:s,desktopMyPlantsBtn:o,desktopQuizBtn:r,desktopLibraryBtn:l,desktopHomeBtn:d}=v;[e,o].forEach(u=>{g.addEventListener(u,"click",()=>{T("MY_PLANTS")},"DASHBOARD")}),[n,r].forEach(u=>{g.addEventListener(u,"click",()=>{T("PLANT_QUIZ")},"DASHBOARD")}),[a,l].forEach(u=>{g.addEventListener(u,"click",()=>{T("PLANT_LIBRARY")},"DASHBOARD")}),[s,d].forEach(u=>{g.addEventListener(u,"click",()=>{T("HOME_PAGE")},"DASHBOARD")}),g.addEventListener(t,"click",()=>{T("ADD_PLANT")},"DASHBOARD")},gs=()=>{T("HOME_PAGE"),ds(),Te()},us=(e,t)=>{const n=e.target.files[0];n&&t(n)},ms=(e,t,n)=>{g.addEventListener(e,"click",()=>{b(t)},n),g.addEventListener(t,"click",a=>{a.stopPropagation()},n)},D=e=>{const t=document.querySelector(".drop-menu-container");t&&!t.contains(e.target)&&t.remove()},we=async e=>{if(gs(),p.setUserId(e),e!=="guest"){const t=await ue(e,"plants"),n=await ue(e,"original");p.initialisePlantLog(t,n)}else{const t=sessionStorage.getItem("plants"),n=sessionStorage.getItem("original");p.initialisePlantLog(t,n)}};Xe(ae,e=>{const t=document.querySelector(".dashboard-page"),n=sessionStorage.getItem("guestLogin");e||n?document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{t.classList.remove("hidden"),we(n?"guest":e.uid)}):(t.classList.remove("hidden"),we(n?"guest":e.uid)):(t.classList.add("hidden"),window.location.href="/plant-bud/login.html")});et();
